module.exports =
/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = require('../../ssr-module-cache.js');
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		var threw = true;
/******/ 		try {
/******/ 			modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 			threw = false;
/******/ 		} finally {
/******/ 			if(threw) delete installedModules[moduleId];
/******/ 		}
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./pages/api/logout.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./core/Auth/Auth.js":
/*!***************************!*\
  !*** ./core/Auth/Auth.js ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nconst bcrypt = __webpack_require__(/*! bcrypt */ \"bcrypt\");\n\nconst cookie = __webpack_require__(/*! cookie */ \"cookie\");\n\nconst jsonwebtoken = __webpack_require__(/*! jsonwebtoken */ \"jsonwebtoken\");\n\nclass Auth {\n  constructor() {\n    if (!Auth.instance) {\n      Auth.instance = this;\n    }\n\n    return Auth.instance;\n  }\n\n  init(options) {\n    if (this.isInitialized) return;\n    this.pathUri = options.pathUri;\n    this.redirectUri = options.redirectUri;\n    this.postLogoutRedirectUri = options.postLogoutRedirectUri;\n    this.cookieSecret = options.cookieSecret;\n    this.cookieLifeTime = options.cookieLifeTime;\n    this.tokenLifetime = options.tokenLifetime;\n    this.isInitialized = true;\n    return this;\n  }\n\n  async handleRegister(req, res, userRegisterFields, database, options) {\n    const fields = {};\n    userRegisterFields.forEach(field => fields[field] = req.body[field]);\n\n    try {\n      fields.password = await bcrypt.hash(fields.password, 10);\n\n      if (await database.findOne(_objectSpread(_objectSpread({}, options), {}, {\n        field: {\n          email: fields.email\n        }\n      }))) {\n        throw new Error('User with same email already exists');\n      }\n\n      const newUser = await database.createOne(_objectSpread(_objectSpread({}, options), {}, {\n        fields\n      }));\n      return res.json(newUser);\n    } catch (e) {\n      throw e;\n    }\n  }\n\n  async handleLogin(req, res, database, options) {\n    const {\n      email,\n      password\n    } = req.body;\n\n    try {\n      const existingUser = await database.findOne(_objectSpread(_objectSpread({}, options), {}, {\n        field: {\n          email\n        }\n      }));\n\n      if (!existingUser) {\n        throw new Error('Bad email or password');\n      }\n\n      const compared = await bcrypt.compare(password, existingUser.password);\n\n      if (!compared) {\n        throw new Error('Bad email or password');\n      }\n\n      const token = jsonwebtoken.sign({\n        userId: existingUser.id\n      }, this.cookieSecret, {\n        expiresIn: this.tokenLifetime\n      });\n      existingUser.tokens = [...existingUser.tokens, token];\n      await existingUser.save();\n      res.setHeader('Set-Cookie', cookie.serialize('auth', token, {\n        httpOnly: true,\n        secure: false,\n        sameSite: 'strict',\n        maxAge: this.cookieLifeTime,\n        path: this.pathUri\n      }));\n      res.json({\n        token\n      });\n    } catch (e) {\n      throw e;\n    }\n  }\n\n  authRequired(handler) {\n    return async (req, res) => {\n      try {\n        const verifyed = jsonwebtoken.verify(req.cookies.auth, this.cookieSecret);\n        req.userId = verifyed.userId;\n        return handler(req, res);\n      } catch (e) {\n        res.status(401).json({\n          error: e.message\n        });\n      }\n    };\n  }\n\n  async handleLogout(req, res, database, options) {\n    try {\n      const authToken = req.cookies.auth;\n      const verifyed = jsonwebtoken.verify(authToken, this.cookieSecret);\n      const user = await database.findById(_objectSpread(_objectSpread({}, options), {}, {\n        id: verifyed.userId\n      }));\n      user.tokens = user.tokens.filter(token => token !== authToken);\n      res.setHeader('Set-Cookie', cookie.serialize('auth', '', {\n        httpOnly: true,\n        secure: false,\n        sameSite: 'strict',\n        maxAge: this.cookieLifeTime,\n        path: this.pathUri\n      }));\n      res.writeHead(302, {\n        Location: this.postLogoutRedirectUri\n      });\n      res.end(); // res.json({ hello: 'hello' })\n    } catch (e) {\n      res.status(500).json({\n        error: e\n      });\n    }\n  }\n\n}\n\nconst auth = new Auth();\nmodule.exports = auth;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9jb3JlL0F1dGgvQXV0aC5qcz81MzUwIl0sIm5hbWVzIjpbImJjcnlwdCIsInJlcXVpcmUiLCJjb29raWUiLCJqc29ud2VidG9rZW4iLCJBdXRoIiwiY29uc3RydWN0b3IiLCJpbnN0YW5jZSIsImluaXQiLCJvcHRpb25zIiwiaXNJbml0aWFsaXplZCIsInBhdGhVcmkiLCJyZWRpcmVjdFVyaSIsInBvc3RMb2dvdXRSZWRpcmVjdFVyaSIsImNvb2tpZVNlY3JldCIsImNvb2tpZUxpZmVUaW1lIiwidG9rZW5MaWZldGltZSIsImhhbmRsZVJlZ2lzdGVyIiwicmVxIiwicmVzIiwidXNlclJlZ2lzdGVyRmllbGRzIiwiZGF0YWJhc2UiLCJmaWVsZHMiLCJmb3JFYWNoIiwiZmllbGQiLCJib2R5IiwicGFzc3dvcmQiLCJoYXNoIiwiZmluZE9uZSIsImVtYWlsIiwiRXJyb3IiLCJuZXdVc2VyIiwiY3JlYXRlT25lIiwianNvbiIsImUiLCJoYW5kbGVMb2dpbiIsImV4aXN0aW5nVXNlciIsImNvbXBhcmVkIiwiY29tcGFyZSIsInRva2VuIiwic2lnbiIsInVzZXJJZCIsImlkIiwiZXhwaXJlc0luIiwidG9rZW5zIiwic2F2ZSIsInNldEhlYWRlciIsInNlcmlhbGl6ZSIsImh0dHBPbmx5Iiwic2VjdXJlIiwic2FtZVNpdGUiLCJtYXhBZ2UiLCJwYXRoIiwiYXV0aFJlcXVpcmVkIiwiaGFuZGxlciIsInZlcmlmeWVkIiwidmVyaWZ5IiwiY29va2llcyIsImF1dGgiLCJzdGF0dXMiLCJlcnJvciIsIm1lc3NhZ2UiLCJoYW5kbGVMb2dvdXQiLCJhdXRoVG9rZW4iLCJ1c2VyIiwiZmluZEJ5SWQiLCJmaWx0ZXIiLCJ3cml0ZUhlYWQiLCJMb2NhdGlvbiIsImVuZCIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLE1BQU1BLE1BQU0sR0FBR0MsbUJBQU8sQ0FBQyxzQkFBRCxDQUF0Qjs7QUFDQSxNQUFNQyxNQUFNLEdB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d0IsSUFBSSxHQUFHLElBQUlyRCxJQUFKLEVBQWI7QUFDQWlFLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQmIsSUFBakIiLCJmaWxlIjoiLi9jb3JlL0F1dGgvQXV0aC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGJjcnlwdCA9IHJlcXVpcmUoJ2JjcnlwdCcpXG5jb25zdCBjb29raWUgPSByZXF1aXJlKCdjb29raWUnKVxuY29uc3QganNvbndlYnRva2VuID0gcmVxdWlyZSgnanNvbndlYnRva2VuJylcblxuY2xhc3MgQXV0aCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIGlmICghQXV0aC5pbnN0YW5jZSkge1xuICAgICAgQXV0aC5pbnN0YW5jZSA9IHRoaXNcbiAgICB9XG4gICAgcmV0dXJuIEF1dGguaW5zdGFuY2VcbiAgfVxuXG4gIGluaXQob3B0aW9ucykge1xuICAgIGlmICh0aGlzLmlzSW5pdGlhbGl6ZWQpIHJldHVyblxuXG4gICAgdGhpcy5wYXRoVXJpID0gb3B0aW9ucy5wYXRoVXJpXG4gICAgdGhpcy5yZWRpcmVjdFVyaSA9IG9wdGlvbnMucmVkaXJlY3RVcmlcbiAgICB0aGlzLnBvc3RMb2dvdXRSZWRpcmVjdFVyaSA9IG9wdGlvbnMucG9zdExvZ291dFJlZGlyZWN0VXJpXG4gICAgdGhpcy5jb29raWVTZWNyZXQgPSBvcHRpb25zLmNvb2tpZVNlY3JldFxuICAgIHRoaXMuY29va2llTGlmZVRpbWUgPSBvcHRpb25zLmNvb2tpZUxpZmVUaW1lXG4gICAgdGhpcy50b2tlbkxpZmV0aW1lID0gb3B0aW9ucy50b2tlbkxpZmV0aW1lXG5cbiAgICB0aGlzLmlzSW5pdGlhbGl6ZWQgPSB0cnVlXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIGFzeW5jIGhhbmRsZVJlZ2lzdGVyKHJlcSwgcmVzLCB1c2VyUmVnaXN0ZXJGaWVsZHMsIGRhdGFiYXNlLCBvcHRpb25zKSB7XG4gICAgY29uc3QgZmllbGRzID0ge31cbiAgICB1c2VyUmVnaXN0ZXJGaWVsZHMuZm9yRWFjaChmaWVsZCA9PiAoZmllbGRzW2ZpZWxkXSA9IHJlcS5ib2R5W2ZpZWxkXSkpXG4gICAgdHJ5IHtcbiAgICAgIGZpZWxkcy5wYXNzd29yZCA9IGF3YWl0IGJjcnlwdC5oYXNoKGZpZWxkcy5wYXNzd29yZCwgMTApXG5cbiAgICAgIGlmIChcbiAgICAgICAgYXdhaXQgZGF0YWJhc2UuZmluZE9uZSh7IC4uLm9wdGlvbnMsIGZpZWxkOiB7IGVtYWlsOiBmaWVsZHMuZW1haWwgfSB9KVxuICAgICAgKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVXNlciB3aXRoIHNhbWUgZW1haWwgYWxyZWFkeSBleGlzdHMnKVxuICAgICAgfVxuXG4gICAgICBjb25zdCBuZXdVc2VyID0gYXdhaXQgZGF0YWJhc2UuY3JlYXRlT25lKHsgLi4ub3B0aW9ucywgZmllbGRzIH0pXG5cbiAgICAgIHJldHVybiByZXMuanNvbihuZXdVc2VyKVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHRocm93IGVcbiAgICB9XG4gIH1cblxuICBhc3luYyBoYW5kbGVMb2dpbihyZXEsIHJlcywgZGF0YWJhc2UsIG9wdGlvbnMpIHtcbiAgICBjb25zdCB7IGVtYWlsLCBwYXNzd29yZCB9ID0gcmVxLmJvZHlcbiAgICB0cnkge1xuICAgICAgY29uc3QgZXhpc3RpbmdVc2VyID0gYXdhaXQgZGF0YWJhc2UuZmluZE9uZSh7XG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIGZpZWxkOiB7IGVtYWlsIH0sXG4gICAgICB9KVxuICAgICAgaWYgKCFleGlzdGluZ1VzZXIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdCYWQgZW1haWwgb3IgcGFzc3dvcmQnKVxuICAgICAgfVxuICAgICAgY29uc3QgY29tcGFyZWQgPSBhd2FpdCBiY3J5cHQuY29tcGFyZShwYXNzd29yZCwgZXhpc3RpbmdVc2VyLnBhc3N3b3JkKVxuICAgICAgaWYgKCFjb21wYXJlZCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0JhZCBlbWFpbCBvciBwYXNzd29yZCcpXG4gICAgICB9XG4gICAgICBjb25zdCB0b2tlbiA9IGpzb253ZWJ0b2tlbi5zaWduKFxuICAgICAgICB7IHVzZXJJZDogZXhpc3RpbmdVc2VyLmlkIH0sXG4gICAgICAgIHRoaXMuY29va2llU2VjcmV0LFxuICAgICAgICB7IGV4cGlyZXNJbjogdGhpcy50b2tlbkxpZmV0aW1lIH1cbiAgICAgIClcbiAgICAgIGV4aXN0aW5nVXNlci50b2tlbnMgPSBbLi4uZXhpc3RpbmdVc2VyLnRva2VucywgdG9rZW5dXG4gICAgICBhd2FpdCBleGlzdGluZ1VzZXIuc2F2ZSgpXG5cbiAgICAgIHJlcy5zZXRIZWFkZXIoXG4gICAgICAgICdTZXQtQ29va2llJyxcbiAgICAgICAgY29va2llLnNlcmlhbGl6ZSgnYXV0aCcsIHRva2VuLCB7XG4gICAgICAgICAgaHR0cE9ubHk6IHRydWUsXG4gICAgICAgICAgc2VjdXJlOiBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ2RldmVsb3BtZW50JyxcbiAgICAgICAgICBzYW1lU2l0ZTogJ3N0cmljdCcsXG4gICAgICAgICAgbWF4QWdlOiB0aGlzLmNvb2tpZUxpZmVUaW1lLFxuICAgICAgICAgIHBhdGg6IHRoaXMucGF0aFVyaSxcbiAgICAgICAgfSlcbiAgICAgIClcbiAgICAgIHJlcy5qc29uKHsgdG9rZW4gfSlcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICB0aHJvdyBlXG4gICAgfVxuICB9XG5cbiAgYXV0aFJlcXVpcmVkKGhhbmRsZXIpIHtcbiAgICByZXR1cm4gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCB2ZXJpZnllZCA9IGpzb253ZWJ0b2tlbi52ZXJpZnkoXG4gICAgICAgICAgcmVxLmNvb2tpZXMuYXV0aCxcbiAgICAgICAgICB0aGlzLmNvb2tpZVNlY3JldFxuICAgICAgICApXG4gICAgICAgIHJlcS51c2VySWQgPSB2ZXJpZnllZC51c2VySWRcbiAgICAgICAgcmV0dXJuIGhhbmRsZXIocmVxLCByZXMpXG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgZXJyb3I6IGUubWVzc2FnZSB9KVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGhhbmRsZUxvZ291dChyZXEsIHJlcywgZGF0YWJhc2UsIG9wdGlvbnMpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgYXV0aFRva2VuID0gcmVxLmNvb2tpZXMuYXV0aFxuICAgICAgY29uc3QgdmVyaWZ5ZWQgPSBqc29ud2VidG9rZW4udmVyaWZ5KGF1dGhUb2tlbiwgdGhpcy5jb29raWVTZWNyZXQpXG4gICAgICBjb25zdCB1c2VyID0gYXdhaXQgZGF0YWJhc2UuZmluZEJ5SWQoeyAuLi5vcHRpb25zLCBpZDogdmVyaWZ5ZWQudXNlcklkIH0pXG4gICAgICB1c2VyLnRva2VucyA9IHVzZXIudG9rZW5zLmZpbHRlcih0b2tlbiA9PiB0b2tlbiAhPT0gYXV0aFRva2VuKVxuICAgICAgcmVzLnNldEhlYWRlcihcbiAgICAgICAgJ1NldC1Db29raWUnLFxuICAgICAgICBjb29raWUuc2VyaWFsaXplKCdhdXRoJywgJycsIHtcbiAgICAgICAgICBodHRwT25seTogdHJ1ZSxcbiAgICAgICAgICBzZWN1cmU6IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAnZGV2ZWxvcG1lbnQnLFxuICAgICAgICAgIHNhbWVTaXRlOiAnc3RyaWN0JyxcbiAgICAgICAgICBtYXhBZ2U6IHRoaXMuY29va2llTGlmZVRpbWUsXG4gICAgICAgICAgcGF0aDogdGhpcy5wYXRoVXJpLFxuICAgICAgICB9KVxuICAgICAgKVxuXG4gICAgICByZXMud3JpdGVIZWFkKDMwMiwge1xuICAgICAgICBMb2NhdGlvbjogdGhpcy5wb3N0TG9nb3V0UmVkaXJlY3RVcmksXG4gICAgICB9KVxuICAgICAgcmVzLmVuZCgpXG4gICAgICAvLyByZXMuanNvbih7IGhlbGxvOiAnaGVsbG8nIH0pXG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogZSB9KVxuICAgIH1cbiAgfVxufVxuXG5jb25zdCBhdXRoID0gbmV3IEF1dGgoKVxubW9kdWxlLmV4cG9ydHMgPSBhdXRoXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./core/Auth/Auth.js\n");

/***/ }),

/***/ "./core/Database/Mongo.js":
/*!********************************!*\
  !*** ./core/Database/Mongo.js ***!
  \********************************/
/*! exports provided: mongoDatabase */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"mongoDatabase\", function() { return mongoDatabase; });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\nconst connection = {\n  isConnected: false\n};\n\nconst connectDb = async () => {\n  if (connection.isConnected) {\n    return;\n  }\n\n  try {\n    const dbConnection = await mongoose__WEBPACK_IMPORTED_MODULE_0___default.a.connect('mongodb://localhost:27017/miauth', {\n      useNewUrlParser: true,\n      useUnifiedTopology: true\n    });\n    connection.isConnected = !!dbConnection.connections[0].readyState;\n  } catch (err) {\n    console.error(`error connecting to db ${err.message || err}`);\n  }\n};\n\nclass MongoDatabase {\n  async getAll({\n    Model,\n    filter = false\n  } = {}) {\n    let data = [];\n\n    if (filter) {\n      const {\n        page,\n        perPage,\n        populate,\n        sort\n      } = filter;\n      const options = {\n        page: parseInt(page, 10) || 1,\n        limit: parseInt(perPage, 10) || 10,\n        populate,\n        sort\n      };\n\n      if (filter.field && filter.value) {\n        data = await Model.paginate({\n          [filter.field]: filter.value\n        }, options);\n      } else {\n        data = await Model.paginate({}, options);\n      }\n\n      data = _objectSpread(_objectSpread({}, data), {}, {\n        docs: data.docs.map(record => {\n          return _objectSpread(_objectSpread({}, record._doc), {}, {\n            _id: record._doc._id.toString(),\n            createdAt: record._doc.createdAt.toISOString(),\n            updatedAt: record._doc.updatedAt.toISOString()\n          });\n        })\n      });\n    } else {\n      data = await Model.find().sort('created_at').lean();\n    }\n\n    return data;\n  }\n\n  async updateOne({\n    Model,\n    id,\n    fields\n  }) {\n    const updatedRecord = await Model.updateOne({\n      _id: id\n    }, fields);\n    return updatedRecord;\n  }\n\n  async deleteOne({\n    Model,\n    id\n  }) {\n    return await Model.findByIdAndDelete(id);\n  }\n\n  async createOne({\n    Model,\n    fields\n  }) {\n    const record = new Model(_objectSpread({}, fields));\n    await record.save();\n    return record;\n  }\n\n  async findById({\n    Model,\n    id,\n    select = ''\n  }) {\n    const record = await Model.findById(id).select(select).lean();\n\n    if (!record) {\n      throw new Error('Not found');\n    }\n\n    return record;\n  }\n\n  async findOne({\n    Model,\n    field\n  }) {\n    const record = await Model.findOne({\n      [field.field]: field.value\n    });\n    return record;\n  }\n\n}\n\nclass MongoDatabaseProxy {\n  constructor(connectDb) {\n    this.mongoDatabase = new MongoDatabase();\n    this.connectDb = connectDb;\n  }\n\n  async getAll(...props) {\n    await this.connectDb();\n    return await this.mongoDatabase.getAll(...props);\n  }\n\n  async updateOne(...props) {\n    await this.connectDb();\n    return await this.mongoDatabase.updateOne(...props);\n  }\n\n  async deleteOne(...props) {\n    await this.connectDb();\n    return await this.mongoDatabase.deleteOne(...props);\n  }\n\n  async createOne(...props) {\n    await this.connectDb();\n    return await this.mongoDatabase.createOne(...props);\n  }\n\n  async findById(...props) {\n    await this.connectDb();\n    return await this.mongoDatabase.findById(...props);\n  }\n\n  async findOne(...props) {\n    await this.connectDb();\n    return await this.mongoDatabase.findOne(...props);\n  }\n\n}\n\nconst mongoDatabase = new MongoDatabaseProxy(connectDb);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9jb3JlL0RhdGFiYXNlL01vbmdvLmpzPzZkODIiXSwibmFtZXMiOlsiY29ubmVjdGlvbiIsImlzQ29ubmVjdGVkIiwiY29ubmVjdERiIiwiZGJDb25uZWN0aW9uIiwibW9uZ29vc2UiLCJjb25uZWN0IiwidXNlTmV3VXJsUGFyc2VyIiwidXNlVW5pZmllZFRvcG9sb2d5IiwiY29ubmVjdGlvbnMiLCJyZWFkeVN0YXRlIiwiZXJyIiwiY29uc29sZSIsImVycm9yIiwibWVzc2FnZSIsIk1vbmdvRGF0YWJhc2UiLCJnZXRBbGwiLCJNb2RlbCIsImZpbHRlciIsImRhdGEiLCJwYWdlIiwicGVyUGFnZSIsInBvcHVsYXRlIiwic29ydCIsIm9wdGlvbnMiLCJwYXJzZUludCIsImxpbWl0IiwiZmllbGQiLCJ2YWx1ZSIsInBhZ2luYXRlIiwiZG9jcyIsIm1hcCIsInJlY29yZCIsIl9kb2MiLCJfaWQiLCJ0b1N0cmluZyIsImNyZWF0ZWRBdCIsInRvSVNPU3RyaW5nIiwidXBkYXRlZEF0IiwiZmluZCIsImxlYW4iLCJ1cGRhdGVPbmUiLCJpZCIsImZpZWxkcyIsInVwZGF0ZWRSZWNvcmQiLCJkZWxldGVPbmUiLCJmaW5kQnlJZEFuZERlbGV0ZSIsImNyZWF0ZU9uZSIsInNhdmUiLCJmaW5kQnlJZCIsInNlbGVjdCIsIkVycm9yIiwiZmluZE9uZSIsIk1vbmdvRGF0YWJhc2VQcm94eSIsImNvbnN0cnVjdG9yIiwibW9uZ29EYXRhYmFzZSIsInByb3BzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUE7QUFFQSxNQUFNQSxVQUFVLEdBQUc7QUFDakJDLGFBQVcsRUFBRTtBQURJLENBQW5COztBQUlBLE1BQU1DLFNBQVMsR0FBRyxZQUFZO0FBQzVCLE1BQUlGLFVBQVUsQ0FBQ0MsV0FBZixFQUE0QjtBQUMxQjtBQUNEOztBQUNELE1BQUk7QUFDRixVQUFNRSxZQUFZLEdBQUcsTUFBTUMsK0NBQVEsQ0FBQ0MsT0FBVCxDQUN6QixrQ0FEeUIsRUFF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QUFiO0FBQ0Q7O0FBQ0QsUUFBTVgsU0FBTixDQUFnQixHQUFHVyxLQUFuQixFQUEwQjtBQUN4QixVQUFNLEtBQUtyRCxTQUFMLEVBQU47QUFDQSxXQUFPLE1BQU0sS0FBS29ELGFBQUwsQ0FBbUJWLFNBQW5CLENBQTZCLEdBQUdXLEtBQWhDLENBQWI7QUFDRDs7QUFDRCxRQUFNVCxTQUFOLENBQWdCLEdBQUdTLEtBQW5CLEVBQTBCO0FBQ3hCLFVBQU0sS0FBS3JELFNBQUwsRUFBTjtBQUNBLFdBQU8sTUFBTSxLQUFLb0QsYUFBTCxDQUFtQlIsU0FBbkIsQ0FBNkIsR0FBR1MsS0FBaEMsQ0FBYjtBQUNEOztBQUNELFFBQU1QLFFBQU4sQ0FBZSxHQUFHTyxLQUFsQixFQUF5QjtBQUN2QixVQUFNLEtBQUtyRCxTQUFMLEVBQU47QUFDQSxXQUFPLE1BQU0sS0FBS29ELGFBQUwsQ0FBbUJOLFFBQW5CLENBQTRCLEdBQUdPLEtBQS9CLENBQWI7QUFDRDs7QUFDRCxRQUFNSixPQUFOLENBQWMsR0FBR0ksS0FBakIsRUFBd0I7QUFDdEIsVUFBTSxLQUFLckQsU0FBTCxFQUFOO0FBQ0EsV0FBTyxNQUFNLEtBQUtvRCxhQUFMLENBQW1CSCxPQUFuQixDQUEyQixHQUFHSSxLQUE5QixDQUFiO0FBQ0Q7O0FBNUJzQjs7QUErQnpCLE1BQU1ELGFBQWEsR0FBRyxJQUFJRixrQkFBSixDQUF1QmxELFNBQXZCLENBQXRCIiwiZmlsZSI6Ii4vY29yZS9EYXRhYmFzZS9Nb25nby5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSdcblxuY29uc3QgY29ubmVjdGlvbiA9IHtcbiAgaXNDb25uZWN0ZWQ6IGZhbHNlLFxufVxuXG5jb25zdCBjb25uZWN0RGIgPSBhc3luYyAoKSA9PiB7XG4gIGlmIChjb25uZWN0aW9uLmlzQ29ubmVjdGVkKSB7XG4gICAgcmV0dXJuXG4gIH1cbiAgdHJ5IHtcbiAgICBjb25zdCBkYkNvbm5lY3Rpb24gPSBhd2FpdCBtb25nb29zZS5jb25uZWN0KFxuICAgICAgJ21vbmdvZGI6Ly9sb2NhbGhvc3Q6MjcwMTcvbWlhdXRoJyxcbiAgICAgIHtcbiAgICAgICAgdXNlTmV3VXJsUGFyc2VyOiB0cnVlLFxuICAgICAgICB1c2VVbmlmaWVkVG9wb2xvZ3k6IHRydWUsXG4gICAgICB9XG4gICAgKVxuICAgIGNvbm5lY3Rpb24uaXNDb25uZWN0ZWQgPSAhIWRiQ29ubmVjdGlvbi5jb25uZWN0aW9uc1swXS5yZWFkeVN0YXRlXG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGNvbnNvbGUuZXJyb3IoYGVycm9yIGNvbm5lY3RpbmcgdG8gZGIgJHtlcnIubWVzc2FnZSB8fCBlcnJ9YClcbiAgfVxufVxuXG5jbGFzcyBNb25nb0RhdGFiYXNlIHtcbiAgYXN5bmMgZ2V0QWxsKHsgTW9kZWwsIGZpbHRlciA9IGZhbHNlIH0gPSB7fSkge1xuICAgIGxldCBkYXRhID0gW11cbiAgICBpZiAoZmlsdGVyKSB7XG4gICAgICBjb25zdCB7IHBhZ2UsIHBlclBhZ2UsIHBvcHVsYXRlLCBzb3J0IH0gPSBmaWx0ZXJcbiAgICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICAgIHBhZ2U6IHBhcnNlSW50KHBhZ2UsIDEwKSB8fCAxLFxuICAgICAgICBsaW1pdDogcGFyc2VJbnQocGVyUGFnZSwgMTApIHx8IDEwLFxuICAgICAgICBwb3B1bGF0ZSxcbiAgICAgICAgc29ydCxcbiAgICAgIH1cbiAgICAgIGlmIChmaWx0ZXIuZmllbGQgJiYgZmlsdGVyLnZhbHVlKSB7XG4gICAgICAgIGRhdGEgPSBhd2FpdCBNb2RlbC5wYWdpbmF0ZSh7IFtmaWx0ZXIuZmllbGRdOiBmaWx0ZXIudmFsdWUgfSwgb3B0aW9ucylcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRhdGEgPSBhd2FpdCBNb2RlbC5wYWdpbmF0ZSh7fSwgb3B0aW9ucylcbiAgICAgIH1cbiAgICAgIGRhdGEgPSB7XG4gICAgICAgIC4uLmRhdGEsXG4gICAgICAgIGRvY3M6IGRhdGEuZG9jcy5tYXAocmVjb3JkID0+IHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4ucmVjb3JkLl9kb2MsXG4gICAgICAgICAgICBfaWQ6IHJlY29yZC5fZG9jLl9pZC50b1N0cmluZygpLFxuICAgICAgICAgICAgY3JlYXRlZEF0OiByZWNvcmQuX2RvYy5jcmVhdGVkQXQudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgIHVwZGF0ZWRBdDogcmVjb3JkLl9kb2MudXBkYXRlZEF0LnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgfVxuICAgICAgICB9KSxcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgZGF0YSA9IGF3YWl0IE1vZGVsLmZpbmQoKS5zb3J0KCdjcmVhdGVkX2F0JykubGVhbigpXG4gICAgfVxuXG4gICAgcmV0dXJuIGRhdGFcbiAgfVxuICBhc3luYyB1cGRhdGVPbmUoeyBNb2RlbCwgaWQsIGZpZWxkcyB9KSB7XG4gICAgY29uc3QgdXBkYXRlZFJlY29yZCA9IGF3YWl0IE1vZGVsLnVwZGF0ZU9uZSh7IF9pZDogaWQgfSwgZmllbGRzKVxuICAgIHJldHVybiB1cGRhdGVkUmVjb3JkXG4gIH1cbiAgYXN5bmMgZGVsZXRlT25lKHsgTW9kZWwsIGlkIH0pIHtcbiAgICByZXR1cm4gYXdhaXQgTW9kZWwuZmluZEJ5SWRBbmREZWxldGUoaWQpXG4gIH1cbiAgYXN5bmMgY3JlYXRlT25lKHsgTW9kZWwsIGZpZWxkcyB9KSB7XG4gICAgY29uc3QgcmVjb3JkID0gbmV3IE1vZGVsKHtcbiAgICAgIC4uLmZpZWxkcyxcbiAgICB9KVxuICAgIGF3YWl0IHJlY29yZC5zYXZlKClcbiAgICByZXR1cm4gcmVjb3JkXG4gIH1cbiAgYXN5bmMgZmluZEJ5SWQoeyBNb2RlbCwgaWQsIHNlbGVjdCA9ICcnIH0pIHtcbiAgICBjb25zdCByZWNvcmQgPSBhd2FpdCBNb2RlbC5maW5kQnlJZChpZCkuc2VsZWN0KHNlbGVjdCkubGVhbigpXG4gICAgaWYgKCFyZWNvcmQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTm90IGZvdW5kJylcbiAgICB9XG4gICAgcmV0dXJuIHJlY29yZFxuICB9XG4gIGFzeW5jIGZpbmRPbmUoeyBNb2RlbCwgZmllbGQgfSkge1xuICAgIGNvbnN0IHJlY29yZCA9IGF3YWl0IE1vZGVsLmZpbmRPbmUoeyBbZmllbGQuZmllbGRdOiBmaWVsZC52YWx1ZSB9KVxuICAgIHJldHVybiByZWNvcmRcbiAgfVxufVxuXG5jbGFzcyBNb25nb0RhdGFiYXNlUHJveHkge1xuICBjb25zdHJ1Y3Rvcihjb25uZWN0RGIpIHtcbiAgICB0aGlzLm1vbmdvRGF0YWJhc2UgPSBuZXcgTW9uZ29EYXRhYmFzZSgpXG4gICAgdGhpcy5jb25uZWN0RGIgPSBjb25uZWN0RGJcbiAgfVxuICBhc3luYyBnZXRBbGwoLi4ucHJvcHMpIHtcbiAgICBhd2FpdCB0aGlzLmNvbm5lY3REYigpXG4gICAgcmV0dXJuIGF3YWl0IHRoaXMubW9uZ29EYXRhYmFzZS5nZXRBbGwoLi4ucHJvcHMpXG4gIH1cbiAgYXN5bmMgdXBkYXRlT25lKC4uLnByb3BzKSB7XG4gICAgYXdhaXQgdGhpcy5jb25uZWN0RGIoKVxuICAgIHJldHVybiBhd2FpdCB0aGlzLm1vbmdvRGF0YWJhc2UudXBkYXRlT25lKC4uLnByb3BzKVxuICB9XG4gIGFzeW5jIGRlbGV0ZU9uZSguLi5wcm9wcykge1xuICAgIGF3YWl0IHRoaXMuY29ubmVjdERiKClcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5tb25nb0RhdGFiYXNlLmRlbGV0ZU9uZSguLi5wcm9wcylcbiAgfVxuICBhc3luYyBjcmVhdGVPbmUoLi4ucHJvcHMpIHtcbiAgICBhd2FpdCB0aGlzLmNvbm5lY3REYigpXG4gICAgcmV0dXJuIGF3YWl0IHRoaXMubW9uZ29EYXRhYmFzZS5jcmVhdGVPbmUoLi4ucHJvcHMpXG4gIH1cbiAgYXN5bmMgZmluZEJ5SWQoLi4ucHJvcHMpIHtcbiAgICBhd2FpdCB0aGlzLmNvbm5lY3REYigpXG4gICAgcmV0dXJuIGF3YWl0IHRoaXMubW9uZ29EYXRhYmFzZS5maW5kQnlJZCguLi5wcm9wcylcbiAgfVxuICBhc3luYyBmaW5kT25lKC4uLnByb3BzKSB7XG4gICAgYXdhaXQgdGhpcy5jb25uZWN0RGIoKVxuICAgIHJldHVybiBhd2FpdCB0aGlzLm1vbmdvRGF0YWJhc2UuZmluZE9uZSguLi5wcm9wcylcbiAgfVxufVxuXG5jb25zdCBtb25nb0RhdGFiYXNlID0gbmV3IE1vbmdvRGF0YWJhc2VQcm94eShjb25uZWN0RGIpXG5cbmV4cG9ydCB7IG1vbmdvRGF0YWJhc2UgfVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./core/Database/Mongo.js\n");

/***/ }),

/***/ "./core/Database/database.js":
/*!***********************************!*\
  !*** ./core/Database/database.js ***!
  \***********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nconst {\n  mongoDatabase\n} = __webpack_require__(/*! ./Mongo */ \"./core/Database/Mongo.js\"); // const { airtableDatabase } = require('./Airtable')\n\n\nclass Database {\n  constructor(database) {\n    this.database = database;\n  }\n\n  async getAll(...props) {\n    return await this.database.getAll(...props);\n  }\n\n  async updateOne(...props) {\n    return await this.database.updateOne(...props);\n  }\n\n  async deleteOne(...props) {\n    return await this.database.deleteOne(...props);\n  }\n\n  async createOne(...props) {\n    return await this.database.createOne(...props);\n  }\n\n  async findById(...props) {\n    return await this.database.findById(...props);\n  }\n\n  async findOne(...props) {\n    return await this.database.findOne(...props);\n  }\n\n}\n\nconst database = new Database(mongoDatabase); // const database = new Database(airtableDatabase)\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (database);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9jb3JlL0RhdGFiYXNlL2RhdGFiYXNlLmpzP2ZhZTEiXSwibmFtZXMiOlsibW9uZ29EYXRhYmFzZSIsInJlcXVpcmUiLCJEYXRhYmFzZSIsImNvbnN0cnVjdG9yIiwiZGF0YWJhc2UiLCJnZXRBbGwiLCJwcm9wcyIsInVwZGF0ZU9uZSIsImRlbGV0ZU9uZSIsImNyZWF0ZU9uZSIsImZpbmRCeUlkIiwiZmluZE9uZSJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQSxNQUFNO0FBQUVBO0FBQUYsSUFBb0JDLG1CQUFPLENBQUMseUNBQUQsQ0FBakMsQyxDQUNBOzs7QUFFQSxNQUFNQyxRQUFOLENBQWU7QUFDYkMsYUFBVyxDQUFDQyxRQUFELEVBQVc7QUFDcEIsU0FBS0EsUUFBTCxHQUFnQkEsUUFBaEI7QUFDRDs7QUFDRCxRQUFNQyxNQUFOLENBQWEsR0FBR0MsS0FBaEIsRUFBdUI7QUFDckIsV0FBTyxNQUFNLEtBQUtGLFFBQUwsQ0FBY0MsTUFBZCxDQUFxQixHQUFHQyxLQUF4QixDQUFiO0FBQ0Q7O0FBQ0QsUUFBTUMsU0FBTixDQUFnQixHQUFHRCxLQUFuQixFQUEwQjtBQUN4QixXQUFPLE1BQU0sS0FBS0YsUUFBTCxDQUFjRyxTQUFkLENBQXdCLEdBQUdELEtBQTNCLENBQWI7QUFDRDs7QUFDRCxRQUFNRSxTQUFOLENBQWdCLEdBQUdGLEtBQW5CLEVBQTBCO0FBQ3hCLFdBQU8sTUFBTSxLQUFLRixRQUFMLENBQWNJLFNBQWQsQ0FBd0IsR0FBR0YsS0FBM0IsQ0FBYjtBQUNEOztBQUNELFFBQU1HLFNBQU4sQ0FBZ0IsR0FBR0gsS0FBbkIsRUFBMEI7QUFDeEIsV0FBTyxNQUFNLEtBQUtGLFFBQUwsQ0FBY0ssU0FBZCxDQUF3QixHQUFHSCxLQUEzQixDQUFiO0FBQ0Q7O0FBQ0QsUUFBTUksUUFBTixDQUFlLEdBQUdKLEtBQWxCLEVBQXlCO0FBQ3ZCLFdBQU8sTUFBTSxLQUFLRixRQUFMLENBQWNNLFFBQWQsQ0FBdUIsR0FBR0osS0FBMUIsQ0FBYjtBQUNEOztBQUNELFFBQU1LLE9BQU4sQ0FBYyxHQUFHTCxLQUFqQixFQUF3QjtBQUN0QixXQUFPLE1BQU0sS0FBS0YsUUFBTCxDQUFjTyxPQUFkLENBQXNCLEdBQUdMLEtBQXpCLENBQWI7QUFDRDs7QUFyQlk7O0FBd0JmLE1BQU1GLFFBQVEsR0FBRyxJQUFJRixRQUFKLENBQWFGLGFBQWIsQ0FBakIsQyxDQUNBOztBQUVlSSx1RUFBZiIsImZpbGUiOiIuL2NvcmUvRGF0YWJhc2UvZGF0YWJhc2UuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB7IG1vbmdvRGF0YWJhc2UgfSA9IHJlcXVpcmUoJy4vTW9uZ28nKVxuLy8gY29uc3QgeyBhaXJ0YWJsZURhdGFiYXNlIH0gPSByZXF1aXJlKCcuL0FpcnRhYmxlJylcblxuY2xhc3MgRGF0YWJhc2Uge1xuICBjb25zdHJ1Y3RvcihkYXRhYmFzZSkge1xuICAgIHRoaXMuZGF0YWJhc2UgPSBkYXRhYmFzZVxuICB9XG4gIGFzeW5jIGdldEFsbCguLi5wcm9wcykge1xuICAgIHJldHVybiBhd2FpdCB0aGlzLmRhdGFiYXNlLmdldEFsbCguLi5wcm9wcylcbiAgfVxuICBhc3luYyB1cGRhdGVPbmUoLi4ucHJvcHMpIHtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5kYXRhYmFzZS51cGRhdGVPbmUoLi4ucHJvcHMpXG4gIH1cbiAgYXN5bmMgZGVsZXRlT25lKC4uLnByb3BzKSB7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuZGF0YWJhc2UuZGVsZXRlT25lKC4uLnByb3BzKVxuICB9XG4gIGFzeW5jIGNyZWF0ZU9uZSguLi5wcm9wcykge1xuICAgIHJldHVybiBhd2FpdCB0aGlzLmRhdGFiYXNlLmNyZWF0ZU9uZSguLi5wcm9wcylcbiAgfVxuICBhc3luYyBmaW5kQnlJZCguLi5wcm9wcykge1xuICAgIHJldHVybiBhd2FpdCB0aGlzLmRhdGFiYXNlLmZpbmRCeUlkKC4uLnByb3BzKVxuICB9XG4gIGFzeW5jIGZpbmRPbmUoLi4ucHJvcHMpIHtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5kYXRhYmFzZS5maW5kT25lKC4uLnByb3BzKVxuICB9XG59XG5cbmNvbnN0IGRhdGFiYXNlID0gbmV3IERhdGFiYXNlKG1vbmdvRGF0YWJhc2UpXG4vLyBjb25zdCBkYXRhYmFzZSA9IG5ldyBEYXRhYmFzZShhaXJ0YWJsZURhdGFiYXNlKVxuXG5leHBvcnQgZGVmYXVsdCBkYXRhYmFzZVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./core/Database/database.js\n");

/***/ }),

/***/ "./models/User.js":
/*!************************!*\
  !*** ./models/User.js ***!
  \************************/
/*! exports provided: UserSchema, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"UserSchema\", function() { return UserSchema; });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst UserSchema = new mongoose__WEBPACK_IMPORTED_MODULE_0__[\"Schema\"]({\n  email: String,\n  name: String,\n  password: String,\n  tokens: [String]\n}, {\n  timestamps: true\n});\n\nfunction createModel(modelName, schema) {\n  return mongoose__WEBPACK_IMPORTED_MODULE_0___default.a.models[modelName] || mongoose__WEBPACK_IMPORTED_MODULE_0___default.a.model(modelName, schema);\n}\n\nconst UserModel = createModel('User', UserSchema);\n/* harmony default export */ __webpack_exports__[\"default\"] = (UserModel);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9tb2RlbHMvVXNlci5qcz8zYTIwIl0sIm5hbWVzIjpbIlVzZXJTY2hlbWEiLCJTY2hlbWEiLCJlbWFpbCIsIlN0cmluZyIsIm5hbWUiLCJwYXNzd29yZCIsInRva2VucyIsInRpbWVzdGFtcHMiLCJjcmVhdGVNb2RlbCIsIm1vZGVsTmFtZSIsInNjaGVtYSIsIm1vbmdvb3NlIiwibW9kZWxzIiwibW9kZWwiLCJVc2VyTW9kZWwiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDTyxNQUFNQSxVQUFVLEdBQUcsSUFBSUMsK0NBQUosQ0FDeEI7QUFDRUMsT0FBSyxFQUFFQyxNQURUO0FBRUVDLE1BQUksRUFBRUQsTUFGUjtBQUdFRSxVQUFRLEVBQUVGLE1BSFo7QUFJRUcsUUFBTSxFQUFFLENBQUNILE1BQUQ7QUFKVixDQUR3QixFQU94QjtBQUNFSSxZQUFVLEVBQUU7QUFEZCxDQVB3QixDQUFuQjs7QUFZUCxTQUFTQyxXQUFULENBQXFCQyxTQUFyQixFQUFnQ0MsTUFBaEMsRUFBd0M7QUFDdEMsU0FBT0MsK0NBQVEsQ0FBQ0MsTUFBVCxDQUFnQkgsU0FBaEIsS0FBOEJFLCtDQUFRLENBQUNFLEtBQVQsQ0FBZUosU0FBZixFQUEwQkMsTUFBMUIsQ0FBckM7QUFDRDs7QUFHRCxNQUFNSSxTQUFTLEdBQUdOLFdBQVcsQ0FBQyxNQUFELEVBQVFSLFVBQVIsQ0FBN0I7QUFFZWMsd0VBQWYiLCJmaWxlIjoiLi9tb2RlbHMvVXNlci5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSwgeyBTY2hlbWEgfSBmcm9tICdtb25nb29zZSdcbmV4cG9ydCBjb25zdCBVc2VyU2NoZW1hID0gbmV3IFNjaGVtYShcbiAge1xuICAgIGVtYWlsOiBTdHJpbmcsXG4gICAgbmFtZTogU3RyaW5nLFxuICAgIHBhc3N3b3JkOiBTdHJpbmcsXG4gICAgdG9rZW5zOiBbU3RyaW5nXSxcbiAgfSxcbiAge1xuICAgIHRpbWVzdGFtcHM6IHRydWUsXG4gIH1cbilcblxuZnVuY3Rpb24gY3JlYXRlTW9kZWwobW9kZWxOYW1lLCBzY2hlbWEpIHtcbiAgcmV0dXJuIG1vbmdvb3NlLm1vZGVsc1ttb2RlbE5hbWVdIHx8IG1vbmdvb3NlLm1vZGVsKG1vZGVsTmFtZSwgc2NoZW1hKVxufVxuXG5cbmNvbnN0IFVzZXJNb2RlbCA9IGNyZWF0ZU1vZGVsKCdVc2VyJyxVc2VyU2NoZW1hKVxuXG5leHBvcnQgZGVmYXVsdCBVc2VyTW9kZWxcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./models/User.js\n");

/***/ }),

/***/ "./pages/api/logout.js":
/*!*****************************!*\
  !*** ./pages/api/logout.js ***!
  \*****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _utils_auth__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/auth */ \"./utils/auth.js\");\n/* harmony import */ var _core_Database_database__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Database/database */ \"./core/Database/database.js\");\n/* harmony import */ var _models_User__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../models/User */ \"./models/User.js\");\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (async (req, res) => {\n  try {\n    await _utils_auth__WEBPACK_IMPORTED_MODULE_0__[\"default\"].handleLogout(req, res, _core_Database_database__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n      Model: _models_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"]\n    });\n  } catch (e) {\n    console.log(e);\n    res.status(500).json({\n      error: e\n    });\n  }\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9wYWdlcy9hcGkvbG9nb3V0LmpzPzFiMjAiXSwibmFtZXMiOlsicmVxIiwicmVzIiwiYXV0aCIsImhhbmRsZUxvZ291dCIsImRhdGFiYXNlIiwiTW9kZWwiLCJVc2VyIiwiZSIsImNvbnNvbGUiLCJsb2ciLCJzdGF0dXMiLCJqc29uIiwiZXJyb3IiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRWUsc0VBQU9BLEdBQVAsRUFBWUMsR0FBWixLQUFvQjtBQUNqQyxNQUFJO0FBQ0YsVUFBTUMsbURBQUksQ0FBQ0MsWUFBTCxDQUFrQkgsR0FBbEIsRUFBdUJDLEdBQXZCLEVBQTRCRywrREFBNUIsRUFBc0M7QUFDMUNDLFdBQUssRUFBRUMsb0RBQUlBO0FBRCtCLEtBQXRDLENBQU47QUFHRCxHQUpELENBSUUsT0FBT0MsQ0FBUCxFQUFVO0FBQ1ZDLFdBQU8sQ0FBQ0MsR0FBUixDQUFZRixDQUFaO0FBQ0FOLE9BQUcsQ0FBQ1MsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUVDLFdBQUssRUFBRUw7QUFBVCxLQUFyQjtBQUNEO0FBQ0YsQ0FURCIsImZpbGUiOiIuL3BhZ2VzL2FwaS9sb2dvdXQuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYXV0aCBmcm9tICcuLi8uLi91dGlscy9hdXRoJ1xuaW1wb3J0IGRhdGFiYXNlIGZyb20gJy4uLy4uL2NvcmUvRGF0YWJhc2UvZGF0YWJhc2UnXG5pbXBvcnQgVXNlciBmcm9tICcuLi8uLi9tb2RlbHMvVXNlcidcblxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIHRyeSB7XG4gICAgYXdhaXQgYXV0aC5oYW5kbGVMb2dvdXQocmVxLCByZXMsIGRhdGFiYXNlLCB7XG4gICAgICBNb2RlbDogVXNlcixcbiAgICB9KVxuICB9IGNhdGNoIChlKSB7XG4gICAgY29uc29sZS5sb2coZSlcbiAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiBlIH0pXG4gIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./pages/api/logout.js\n");

/***/ }),

/***/ "./utils/auth.js":
/*!***********************!*\
  !*** ./utils/auth.js ***!
  \***********************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _core_Auth_Auth__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/Auth/Auth */ \"./core/Auth/Auth.js\");\n/* harmony import */ var _core_Auth_Auth__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_core_Auth_Auth__WEBPACK_IMPORTED_MODULE_0__);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (_core_Auth_Auth__WEBPACK_IMPORTED_MODULE_0___default.a.init({\n  pathUri: '/',\n  redirectUri: '/',\n  postLogoutRedirectUri: '/',\n  cookieSecret: 'cookie',\n  cookieLifeTime: '36000',\n  tokenLifetime: '10h'\n}));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi91dGlscy9hdXRoLmpzPzQ4YzkiXSwibmFtZXMiOlsiYXV0aCIsImluaXQiLCJwYXRoVXJpIiwicmVkaXJlY3RVcmkiLCJwb3N0TG9nb3V0UmVkaXJlY3RVcmkiLCJjb29raWVTZWNyZXQiLCJjb29raWVMaWZlVGltZSIsInRva2VuTGlmZXRpbWUiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRWVBLHFIQUFJLENBQUNDLElBQUwsQ0FBVTtBQUN2QkMsU0FBTyxFQUFFLEdBRGM7QUFFdkJDLGFBQVcsRUFBRSxHQUZVO0FBR3ZCQyx1QkFBcUIsRUFBRSxHQUhBO0FBSXZCQyxjQUFZLEVBQUUsUUFKUztBQUt2QkMsZ0JBQWMsRUFBRSxPQUxPO0FBTXZCQyxlQUFhLEVBQUU7QUFOUSxDQUFWLENBQWYiLCJmaWxlIjoiLi91dGlscy9hdXRoLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGF1dGggZnJvbSAnLi4vY29yZS9BdXRoL0F1dGgnXG5cbmV4cG9ydCBkZWZhdWx0IGF1dGguaW5pdCh7XG4gIHBhdGhVcmk6ICcvJyxcbiAgcmVkaXJlY3RVcmk6ICcvJyxcbiAgcG9zdExvZ291dFJlZGlyZWN0VXJpOiAnLycsXG4gIGNvb2tpZVNlY3JldDogJ2Nvb2tpZScsXG4gIGNvb2tpZUxpZmVUaW1lOiAnMzYwMDAnLFxuICB0b2tlbkxpZmV0aW1lOiAnMTBoJyxcbn0pXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./utils/auth.js\n");

/***/ }),

/***/ "bcrypt":
/*!*************************!*\
  !*** external "bcrypt" ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"bcrypt\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJiY3J5cHRcIj9jZjljIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6ImJjcnlwdC5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImJjcnlwdFwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///bcrypt\n");

/***/ }),

/***/ "cookie":
/*!*************************!*\
  !*** external "cookie" ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"cookie\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJjb29raWVcIj8yZDIxIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6ImNvb2tpZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImNvb2tpZVwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///cookie\n");

/***/ }),

/***/ "jsonwebtoken":
/*!*******************************!*\
  !*** external "jsonwebtoken" ***!
  \*******************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"jsonwebtoken\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJqc29ud2VidG9rZW5cIj82NDkwIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6Impzb253ZWJ0b2tlbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImpzb253ZWJ0b2tlblwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///jsonwebtoken\n");

/***/ }),

/***/ "mongoose":
/*!***************************!*\
  !*** external "mongoose" ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"mongoose\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJtb25nb29zZVwiP2ZmZDciXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoibW9uZ29vc2UuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJtb25nb29zZVwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///mongoose\n");

/***/ })

/******/ });