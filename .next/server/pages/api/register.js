module.exports =
/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = require('../../ssr-module-cache.js');
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		var threw = true;
/******/ 		try {
/******/ 			modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 			threw = false;
/******/ 		} finally {
/******/ 			if(threw) delete installedModules[moduleId];
/******/ 		}
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./pages/api/register.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./core/Auth/Auth.js":
/*!***************************!*\
  !*** ./core/Auth/Auth.js ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

eval("function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nconst bcrypt = __webpack_require__(/*! bcrypt */ \"bcrypt\");\n\nconst cookie = __webpack_require__(/*! cookie */ \"cookie\");\n\nconst jsonwebtoken = __webpack_require__(/*! jsonwebtoken */ \"jsonwebtoken\");\n\nclass Auth {\n  constructor() {\n    if (!Auth.instance) {\n      Auth.instance = this;\n    }\n\n    return Auth.instance;\n  }\n\n  init(options) {\n    if (this.isInitialized) return;\n    this.pathUri = options.pathUri;\n    this.redirectUri = options.redirectUri;\n    this.postLogoutRedirectUri = options.postLogoutRedirectUri;\n    this.cookieSecret = options.cookieSecret;\n    this.cookieLifeTime = options.cookieLifeTime;\n    this.tokenLifetime = options.tokenLifetime;\n    this.isInitialized = true;\n    return this;\n  }\n\n  async handleRegister(req, res, userRegisterFields, database, options) {\n    const fields = {};\n    userRegisterFields.forEach(field => fields[field] = req.body[field]);\n\n    try {\n      fields.password = await bcrypt.hash(fields.password, 10);\n      const existingUser = await database.findOne(_objectSpread(_objectSpread({}, options), {}, {\n        field: {\n          field: 'email',\n          value: fields.email\n        }\n      }));\n\n      if (existingUser) {\n        throw new Error('User with same email already exists');\n      }\n\n      const newUser = await database.createOne(_objectSpread(_objectSpread({}, options), {}, {\n        fields\n      }));\n      return res.json(newUser);\n    } catch (e) {\n      throw e;\n    }\n  }\n\n  async handleLogin(req, res, database, options) {\n    const {\n      email,\n      password\n    } = req.body;\n\n    try {\n      const existingUser = await database.findOne(_objectSpread(_objectSpread({}, options), {}, {\n        field: {\n          field: 'email',\n          value: email\n        }\n      }));\n\n      if (!existingUser) {\n        throw new Error('Bad email or password');\n      }\n\n      const compared = await bcrypt.compare(password, existingUser.password);\n\n      if (!compared) {\n        throw new Error('Bad email or password');\n      }\n\n      const token = jsonwebtoken.sign({\n        userId: existingUser.id\n      }, this.cookieSecret, {\n        expiresIn: this.tokenLifetime\n      });\n      existingUser.tokens = [...existingUser.tokens, token];\n      await existingUser.save();\n      res.setHeader('Set-Cookie', cookie.serialize('auth', token, {\n        httpOnly: true,\n        secure: false,\n        sameSite: 'strict',\n        maxAge: this.cookieLifeTime,\n        path: this.pathUri\n      }));\n      res.json({\n        token\n      });\n    } catch (e) {\n      throw e;\n    }\n  }\n\n  authRequired(handler) {\n    return async (req, res) => {\n      try {\n        const verifyed = jsonwebtoken.verify(req.cookies.auth, this.cookieSecret);\n        req.userId = verifyed.userId;\n        return handler(req, res);\n      } catch (e) {\n        res.status(401).json({\n          error: e.message\n        });\n      }\n    };\n  }\n\n  async handleLogout(req, res, database, options) {\n    try {\n      const authToken = req.cookies.auth;\n      const verifyed = jsonwebtoken.verify(authToken, this.cookieSecret);\n      const user = await database.findById(_objectSpread(_objectSpread({}, options), {}, {\n        id: verifyed.userId\n      }));\n      user.tokens = user.tokens.filter(token => token !== authToken);\n      res.setHeader('Set-Cookie', cookie.serialize('auth', '', {\n        httpOnly: true,\n        secure: false,\n        sameSite: 'strict',\n        maxAge: this.cookieLifeTime,\n        path: this.pathUri\n      }));\n      res.writeHead(302, {\n        Location: this.postLogoutRedirectUri\n      });\n      res.end(); // res.json({ hello: 'hello' })\n    } catch (e) {\n      res.status(500).json({\n        error: e\n      });\n    }\n  }\n\n}\n\nconst auth = new Auth();\nmodule.exports = auth;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9jb3JlL0F1dGgvQXV0aC5qcz81MzUwIl0sIm5hbWVzIjpbImJjcnlwdCIsInJlcXVpcmUiLCJjb29raWUiLCJqc29ud2VidG9rZW4iLCJBdXRoIiwiY29uc3RydWN0b3IiLCJpbnN0YW5jZSIsImluaXQiLCJvcHRpb25zIiwiaXNJbml0aWFsaXplZCIsInBhdGhVcmkiLCJyZWRpcmVjdFVyaSIsInBvc3RMb2dvdXRSZWRpcmVjdFVyaSIsImNvb2tpZVNlY3JldCIsImNvb2tpZUxpZmVUaW1lIiwidG9rZW5MaWZldGltZSIsImhhbmRsZVJlZ2lzdGVyIiwicmVxIiwicmVzIiwidXNlclJlZ2lzdGVyRmllbGRzIiwiZGF0YWJhc2UiLCJmaWVsZHMiLCJmb3JFYWNoIiwiZmllbGQiLCJib2R5IiwicGFzc3dvcmQiLCJoYXNoIiwiZXhpc3RpbmdVc2VyIiwiZmluZE9uZSIsInZhbHVlIiwiZW1haWwiLCJFcnJvciIsIm5ld1VzZXIiLCJjcmVhdGVPbmUiLCJqc29uIiwiZSIsImhhbmRsZUxvZ2luIiwiY29tcGFyZWQiLCJjb21wYXJlIiwidG9rZW4iLCJzaWduIiwidXNlcklkIiwiaWQiLCJleHBpcmVzSW4iLCJ0b2tlbnMiLCJzYXZlIiwic2V0SGVhZGVyIiwic2VyaWFsaXplIiwiaHR0cE9ubHkiLCJzZWN1cmUiLCJzYW1lU2l0ZSIsIm1heEFnZSIsInBhdGgiLCJhdXRoUmVxdWlyZWQiLCJoYW5kbGVyIiwidmVyaWZ5ZWQiLCJ2ZXJpZnkiLCJjb29raWVzIiwiYXV0aCIsInN0YXR1cyIsImVycm9yIiwibWVzc2FnZSIsImhhbmRsZUxvZ291dCIsImF1dGhUb2tlbiIsInVzZXIiLCJmaW5kQnlJZCIsImZpbHRlciIsIndyaXRlSGVhZCIsIkxvY2F0aW9uIiwiZW5kIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsTUFBTUEsTUFBTSxHQUFHQyxtQkFBTyxDQUFDLHNCQUFELENBQXRCOztBQUNBLE1BQU1D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RyxDQUFDeUMsTUFBSixDQUFXLEdBQVgsRUFBZ0J6QixJQUFoQixDQUFxQjtBQUFFMEIsYUFBSyxFQUFFekI7QUFBVCxPQUFyQjtBQUNEO0FBQ0Y7O0FBekhROztBQTRIWCxNQUFNdUIsSUFBSSxHQUFHLElBQUl0RCxJQUFKLEVBQWI7QUFDQWtFLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQmIsSUFBakIiLCJmaWxlIjoiLi9jb3JlL0F1dGgvQXV0aC5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGJjcnlwdCA9IHJlcXVpcmUoJ2JjcnlwdCcpXG5jb25zdCBjb29raWUgPSByZXF1aXJlKCdjb29raWUnKVxuY29uc3QganNvbndlYnRva2VuID0gcmVxdWlyZSgnanNvbndlYnRva2VuJylcblxuY2xhc3MgQXV0aCB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIGlmICghQXV0aC5pbnN0YW5jZSkge1xuICAgICAgQXV0aC5pbnN0YW5jZSA9IHRoaXNcbiAgICB9XG4gICAgcmV0dXJuIEF1dGguaW5zdGFuY2VcbiAgfVxuXG4gIGluaXQob3B0aW9ucykge1xuICAgIGlmICh0aGlzLmlzSW5pdGlhbGl6ZWQpIHJldHVyblxuXG4gICAgdGhpcy5wYXRoVXJpID0gb3B0aW9ucy5wYXRoVXJpXG4gICAgdGhpcy5yZWRpcmVjdFVyaSA9IG9wdGlvbnMucmVkaXJlY3RVcmlcbiAgICB0aGlzLnBvc3RMb2dvdXRSZWRpcmVjdFVyaSA9IG9wdGlvbnMucG9zdExvZ291dFJlZGlyZWN0VXJpXG4gICAgdGhpcy5jb29raWVTZWNyZXQgPSBvcHRpb25zLmNvb2tpZVNlY3JldFxuICAgIHRoaXMuY29va2llTGlmZVRpbWUgPSBvcHRpb25zLmNvb2tpZUxpZmVUaW1lXG4gICAgdGhpcy50b2tlbkxpZmV0aW1lID0gb3B0aW9ucy50b2tlbkxpZmV0aW1lXG5cbiAgICB0aGlzLmlzSW5pdGlhbGl6ZWQgPSB0cnVlXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIGFzeW5jIGhhbmRsZVJlZ2lzdGVyKHJlcSwgcmVzLCB1c2VyUmVnaXN0ZXJGaWVsZHMsIGRhdGFiYXNlLCBvcHRpb25zKSB7XG4gICAgY29uc3QgZmllbGRzID0ge31cbiAgICB1c2VyUmVnaXN0ZXJGaWVsZHMuZm9yRWFjaChmaWVsZCA9PiAoZmllbGRzW2ZpZWxkXSA9IHJlcS5ib2R5W2ZpZWxkXSkpXG4gICAgdHJ5IHtcbiAgICAgIGZpZWxkcy5wYXNzd29yZCA9IGF3YWl0IGJjcnlwdC5oYXNoKGZpZWxkcy5wYXNzd29yZCwgMTApXG4gICAgICBjb25zdCBleGlzdGluZ1VzZXIgPSBhd2FpdCBkYXRhYmFzZS5maW5kT25lKHtcbiAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgZmllbGQ6IHsgZmllbGQ6ICdlbWFpbCcsIHZhbHVlOiBmaWVsZHMuZW1haWwgfSxcbiAgICAgIH0pXG4gICAgICBpZiAoZXhpc3RpbmdVc2VyKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVXNlciB3aXRoIHNhbWUgZW1haWwgYWxyZWFkeSBleGlzdHMnKVxuICAgICAgfVxuXG4gICAgICBjb25zdCBuZXdVc2VyID0gYXdhaXQgZGF0YWJhc2UuY3JlYXRlT25lKHsgLi4ub3B0aW9ucywgZmllbGRzIH0pXG5cbiAgICAgIHJldHVybiByZXMuanNvbihuZXdVc2VyKVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHRocm93IGVcbiAgICB9XG4gIH1cblxuICBhc3luYyBoYW5kbGVMb2dpbihyZXEsIHJlcywgZGF0YWJhc2UsIG9wdGlvbnMpIHtcbiAgICBjb25zdCB7IGVtYWlsLCBwYXNzd29yZCB9ID0gcmVxLmJvZHlcbiAgICB0cnkge1xuICAgICAgY29uc3QgZXhpc3RpbmdVc2VyID0gYXdhaXQgZGF0YWJhc2UuZmluZE9uZSh7XG4gICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIGZpZWxkOiB7IGZpZWxkOiAnZW1haWwnLCB2YWx1ZTogZW1haWwgfSxcbiAgICAgIH0pXG4gICAgICBpZiAoIWV4aXN0aW5nVXNlcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0JhZCBlbWFpbCBvciBwYXNzd29yZCcpXG4gICAgICB9XG4gICAgICBjb25zdCBjb21wYXJlZCA9IGF3YWl0IGJjcnlwdC5jb21wYXJlKHBhc3N3b3JkLCBleGlzdGluZ1VzZXIucGFzc3dvcmQpXG4gICAgICBpZiAoIWNvbXBhcmVkKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQmFkIGVtYWlsIG9yIHBhc3N3b3JkJylcbiAgICAgIH1cbiAgICAgIGNvbnN0IHRva2VuID0ganNvbndlYnRva2VuLnNpZ24oXG4gICAgICAgIHsgdXNlcklkOiBleGlzdGluZ1VzZXIuaWQgfSxcbiAgICAgICAgdGhpcy5jb29raWVTZWNyZXQsXG4gICAgICAgIHsgZXhwaXJlc0luOiB0aGlzLnRva2VuTGlmZXRpbWUgfVxuICAgICAgKVxuICAgICAgZXhpc3RpbmdVc2VyLnRva2VucyA9IFsuLi5leGlzdGluZ1VzZXIudG9rZW5zLCB0b2tlbl1cbiAgICAgIGF3YWl0IGV4aXN0aW5nVXNlci5zYXZlKClcblxuICAgICAgcmVzLnNldEhlYWRlcihcbiAgICAgICAgJ1NldC1Db29raWUnLFxuICAgICAgICBjb29raWUuc2VyaWFsaXplKCdhdXRoJywgdG9rZW4sIHtcbiAgICAgICAgICBodHRwT25seTogdHJ1ZSxcbiAgICAgICAgICBzZWN1cmU6IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAnZGV2ZWxvcG1lbnQnLFxuICAgICAgICAgIHNhbWVTaXRlOiAnc3RyaWN0JyxcbiAgICAgICAgICBtYXhBZ2U6IHRoaXMuY29va2llTGlmZVRpbWUsXG4gICAgICAgICAgcGF0aDogdGhpcy5wYXRoVXJpLFxuICAgICAgICB9KVxuICAgICAgKVxuICAgICAgcmVzLmpzb24oeyB0b2tlbiB9KVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHRocm93IGVcbiAgICB9XG4gIH1cblxuICBhdXRoUmVxdWlyZWQoaGFuZGxlcikge1xuICAgIHJldHVybiBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHZlcmlmeWVkID0ganNvbndlYnRva2VuLnZlcmlmeShcbiAgICAgICAgICByZXEuY29va2llcy5hdXRoLFxuICAgICAgICAgIHRoaXMuY29va2llU2VjcmV0XG4gICAgICAgIClcbiAgICAgICAgcmVxLnVzZXJJZCA9IHZlcmlmeWVkLnVzZXJJZFxuICAgICAgICByZXR1cm4gaGFuZGxlcihyZXEsIHJlcylcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBlcnJvcjogZS5tZXNzYWdlIH0pXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgaGFuZGxlTG9nb3V0KHJlcSwgcmVzLCBkYXRhYmFzZSwgb3B0aW9ucykge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBhdXRoVG9rZW4gPSByZXEuY29va2llcy5hdXRoXG4gICAgICBjb25zdCB2ZXJpZnllZCA9IGpzb253ZWJ0b2tlbi52ZXJpZnkoYXV0aFRva2VuLCB0aGlzLmNvb2tpZVNlY3JldClcbiAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBkYXRhYmFzZS5maW5kQnlJZCh7IC4uLm9wdGlvbnMsIGlkOiB2ZXJpZnllZC51c2VySWQgfSlcbiAgICAgIHVzZXIudG9rZW5zID0gdXNlci50b2tlbnMuZmlsdGVyKHRva2VuID0+IHRva2VuICE9PSBhdXRoVG9rZW4pXG4gICAgICByZXMuc2V0SGVhZGVyKFxuICAgICAgICAnU2V0LUNvb2tpZScsXG4gICAgICAgIGNvb2tpZS5zZXJpYWxpemUoJ2F1dGgnLCAnJywge1xuICAgICAgICAgIGh0dHBPbmx5OiB0cnVlLFxuICAgICAgICAgIHNlY3VyZTogcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdkZXZlbG9wbWVudCcsXG4gICAgICAgICAgc2FtZVNpdGU6ICdzdHJpY3QnLFxuICAgICAgICAgIG1heEFnZTogdGhpcy5jb29raWVMaWZlVGltZSxcbiAgICAgICAgICBwYXRoOiB0aGlzLnBhdGhVcmksXG4gICAgICAgIH0pXG4gICAgICApXG5cbiAgICAgIHJlcy53cml0ZUhlYWQoMzAyLCB7XG4gICAgICAgIExvY2F0aW9uOiB0aGlzLnBvc3RMb2dvdXRSZWRpcmVjdFVyaSxcbiAgICAgIH0pXG4gICAgICByZXMuZW5kKClcbiAgICAgIC8vIHJlcy5qc29uKHsgaGVsbG86ICdoZWxsbycgfSlcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiBlIH0pXG4gICAgfVxuICB9XG59XG5cbmNvbnN0IGF1dGggPSBuZXcgQXV0aCgpXG5tb2R1bGUuZXhwb3J0cyA9IGF1dGhcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./core/Auth/Auth.js\n");

/***/ }),

/***/ "./core/Database/Mongo.js":
/*!********************************!*\
  !*** ./core/Database/Mongo.js ***!
  \********************************/
/*! exports provided: mongoDatabase */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"mongoDatabase\", function() { return mongoDatabase; });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\nconst connection = {\n  isConnected: false\n};\n\nconst connectDb = async () => {\n  if (connection.isConnected) {\n    return;\n  }\n\n  try {\n    const dbConnection = await mongoose__WEBPACK_IMPORTED_MODULE_0___default.a.connect('mongodb://localhost:27017/miauth', {\n      useNewUrlParser: true,\n      useUnifiedTopology: true\n    });\n    connection.isConnected = !!dbConnection.connections[0].readyState;\n  } catch (err) {\n    console.error(`error connecting to db ${err.message || err}`);\n  }\n};\n\nclass MongoDatabase {\n  async getAll({\n    Model,\n    filter = false\n  } = {}) {\n    let data = [];\n\n    if (filter) {\n      const {\n        page,\n        perPage,\n        populate,\n        sort\n      } = filter;\n      const options = {\n        page: parseInt(page, 10) || 1,\n        limit: parseInt(perPage, 10) || 10,\n        populate,\n        sort\n      };\n\n      if (filter.field && filter.value) {\n        data = await Model.paginate({\n          [filter.field]: filter.value\n        }, options);\n      } else {\n        data = await Model.paginate({}, options);\n      }\n\n      data = _objectSpread(_objectSpread({}, data), {}, {\n        docs: data.docs.map(record => {\n          return _objectSpread(_objectSpread({}, record._doc), {}, {\n            _id: record._doc._id.toString(),\n            createdAt: record._doc.createdAt.toISOString(),\n            updatedAt: record._doc.updatedAt.toISOString()\n          });\n        })\n      });\n    } else {\n      data = await Model.find().sort('created_at').lean();\n    }\n\n    return data;\n  }\n\n  async updateOne({\n    Model,\n    id,\n    fields\n  }) {\n    const updatedRecord = await Model.updateOne({\n      _id: id\n    }, fields);\n    return updatedRecord;\n  }\n\n  async deleteOne({\n    Model,\n    id\n  }) {\n    return await Model.findByIdAndDelete(id);\n  }\n\n  async createOne({\n    Model,\n    fields\n  }) {\n    const record = new Model(_objectSpread({}, fields));\n    await record.save();\n    return record;\n  }\n\n  async findById({\n    Model,\n    id,\n    select = ''\n  }) {\n    const record = await Model.findById(id).select(select).lean();\n\n    if (!record) {\n      throw new Error('Not found');\n    }\n\n    return record;\n  }\n\n  async findOne({\n    Model,\n    field\n  }) {\n    const record = await Model.findOne({\n      [field.field]: field.value\n    });\n    return record;\n  }\n\n}\n\nclass MongoDatabaseProxy {\n  constructor(connectDb) {\n    this.mongoDatabase = new MongoDatabase();\n    this.connectDb = connectDb;\n  }\n\n  async getAll(...props) {\n    await this.connectDb();\n    return await this.mongoDatabase.getAll(...props);\n  }\n\n  async updateOne(...props) {\n    await this.connectDb();\n    return await this.mongoDatabase.updateOne(...props);\n  }\n\n  async deleteOne(...props) {\n    await this.connectDb();\n    return await this.mongoDatabase.deleteOne(...props);\n  }\n\n  async createOne(...props) {\n    await this.connectDb();\n    return await this.mongoDatabase.createOne(...props);\n  }\n\n  async findById(...props) {\n    await this.connectDb();\n    return await this.mongoDatabase.findById(...props);\n  }\n\n  async findOne(...props) {\n    await this.connectDb();\n    return await this.mongoDatabase.findOne(...props);\n  }\n\n}\n\nconst mongoDatabase = new MongoDatabaseProxy(connectDb);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9jb3JlL0RhdGFiYXNlL01vbmdvLmpzPzZkODIiXSwibmFtZXMiOlsiY29ubmVjdGlvbiIsImlzQ29ubmVjdGVkIiwiY29ubmVjdERiIiwiZGJDb25uZWN0aW9uIiwibW9uZ29vc2UiLCJjb25uZWN0IiwidXNlTmV3VXJsUGFyc2VyIiwidXNlVW5pZmllZFRvcG9sb2d5IiwiY29ubmVjdGlvbnMiLCJyZWFkeVN0YXRlIiwiZXJyIiwiY29uc29sZSIsImVycm9yIiwibWVzc2FnZSIsIk1vbmdvRGF0YWJhc2UiLCJnZXRBbGwiLCJNb2RlbCIsImZpbHRlciIsImRhdGEiLCJwYWdlIiwicGVyUGFnZSIsInBvcHVsYXRlIiwic29ydCIsIm9wdGlvbnMiLCJwYXJzZUludCIsImxpbWl0IiwiZmllbGQiLCJ2YWx1ZSIsInBhZ2luYXRlIiwiZG9jcyIsIm1hcCIsInJlY29yZCIsIl9kb2MiLCJfaWQiLCJ0b1N0cmluZyIsImNyZWF0ZWRBdCIsInRvSVNPU3RyaW5nIiwidXBkYXRlZEF0IiwiZmluZCIsImxlYW4iLCJ1cGRhdGVPbmUiLCJpZCIsImZpZWxkcyIsInVwZGF0ZWRSZWNvcmQiLCJkZWxldGVPbmUiLCJmaW5kQnlJZEFuZERlbGV0ZSIsImNyZWF0ZU9uZSIsInNhdmUiLCJmaW5kQnlJZCIsInNlbGVjdCIsIkVycm9yIiwiZmluZE9uZSIsIk1vbmdvRGF0YWJhc2VQcm94eSIsImNvbnN0cnVjdG9yIiwibW9uZ29EYXRhYmFzZSIsInByb3BzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUE7QUFFQSxNQUFNQSxVQUFVLEdBQUc7QUFDakJDLGFBQVcsRUFBRTtBQURJLENBQW5COztBQUlBLE1BQU1DLFNBQVMsR0FBRyxZQUFZO0FBQzVCLE1BQUlGLFVBQVUsQ0FBQ0MsV0FBZixFQUE0QjtBQUMxQjtBQUNEOztBQUNELE1BQUk7QUFDRixVQUFNRSxZQUFZLEdBQUcsTUFBTUMsK0NBQVEsQ0FBQ0MsT0FBVCxDQUN6QixrQ0FEeUIsRUFF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QUFiO0FBQ0Q7O0FBQ0QsUUFBTVgsU0FBTixDQUFnQixHQUFHVyxLQUFuQixFQUEwQjtBQUN4QixVQUFNLEtBQUtyRCxTQUFMLEVBQU47QUFDQSxXQUFPLE1BQU0sS0FBS29ELGFBQUwsQ0FBbUJWLFNBQW5CLENBQTZCLEdBQUdXLEtBQWhDLENBQWI7QUFDRDs7QUFDRCxRQUFNVCxTQUFOLENBQWdCLEdBQUdTLEtBQW5CLEVBQTBCO0FBQ3hCLFVBQU0sS0FBS3JELFNBQUwsRUFBTjtBQUNBLFdBQU8sTUFBTSxLQUFLb0QsYUFBTCxDQUFtQlIsU0FBbkIsQ0FBNkIsR0FBR1MsS0FBaEMsQ0FBYjtBQUNEOztBQUNELFFBQU1QLFFBQU4sQ0FBZSxHQUFHTyxLQUFsQixFQUF5QjtBQUN2QixVQUFNLEtBQUtyRCxTQUFMLEVBQU47QUFDQSxXQUFPLE1BQU0sS0FBS29ELGFBQUwsQ0FBbUJOLFFBQW5CLENBQTRCLEdBQUdPLEtBQS9CLENBQWI7QUFDRDs7QUFDRCxRQUFNSixPQUFOLENBQWMsR0FBR0ksS0FBakIsRUFBd0I7QUFDdEIsVUFBTSxLQUFLckQsU0FBTCxFQUFOO0FBQ0EsV0FBTyxNQUFNLEtBQUtvRCxhQUFMLENBQW1CSCxPQUFuQixDQUEyQixHQUFHSSxLQUE5QixDQUFiO0FBQ0Q7O0FBNUJzQjs7QUErQnpCLE1BQU1ELGFBQWEsR0FBRyxJQUFJRixrQkFBSixDQUF1QmxELFNBQXZCLENBQXRCIiwiZmlsZSI6Ii4vY29yZS9EYXRhYmFzZS9Nb25nby5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSdcblxuY29uc3QgY29ubmVjdGlvbiA9IHtcbiAgaXNDb25uZWN0ZWQ6IGZhbHNlLFxufVxuXG5jb25zdCBjb25uZWN0RGIgPSBhc3luYyAoKSA9PiB7XG4gIGlmIChjb25uZWN0aW9uLmlzQ29ubmVjdGVkKSB7XG4gICAgcmV0dXJuXG4gIH1cbiAgdHJ5IHtcbiAgICBjb25zdCBkYkNvbm5lY3Rpb24gPSBhd2FpdCBtb25nb29zZS5jb25uZWN0KFxuICAgICAgJ21vbmdvZGI6Ly9sb2NhbGhvc3Q6MjcwMTcvbWlhdXRoJyxcbiAgICAgIHtcbiAgICAgICAgdXNlTmV3VXJsUGFyc2VyOiB0cnVlLFxuICAgICAgICB1c2VVbmlmaWVkVG9wb2xvZ3k6IHRydWUsXG4gICAgICB9XG4gICAgKVxuICAgIGNvbm5lY3Rpb24uaXNDb25uZWN0ZWQgPSAhIWRiQ29ubmVjdGlvbi5jb25uZWN0aW9uc1swXS5yZWFkeVN0YXRlXG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGNvbnNvbGUuZXJyb3IoYGVycm9yIGNvbm5lY3RpbmcgdG8gZGIgJHtlcnIubWVzc2FnZSB8fCBlcnJ9YClcbiAgfVxufVxuXG5jbGFzcyBNb25nb0RhdGFiYXNlIHtcbiAgYXN5bmMgZ2V0QWxsKHsgTW9kZWwsIGZpbHRlciA9IGZhbHNlIH0gPSB7fSkge1xuICAgIGxldCBkYXRhID0gW11cbiAgICBpZiAoZmlsdGVyKSB7XG4gICAgICBjb25zdCB7IHBhZ2UsIHBlclBhZ2UsIHBvcHVsYXRlLCBzb3J0IH0gPSBmaWx0ZXJcbiAgICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICAgIHBhZ2U6IHBhcnNlSW50KHBhZ2UsIDEwKSB8fCAxLFxuICAgICAgICBsaW1pdDogcGFyc2VJbnQocGVyUGFnZSwgMTApIHx8IDEwLFxuICAgICAgICBwb3B1bGF0ZSxcbiAgICAgICAgc29ydCxcbiAgICAgIH1cbiAgICAgIGlmIChmaWx0ZXIuZmllbGQgJiYgZmlsdGVyLnZhbHVlKSB7XG4gICAgICAgIGRhdGEgPSBhd2FpdCBNb2RlbC5wYWdpbmF0ZSh7IFtmaWx0ZXIuZmllbGRdOiBmaWx0ZXIudmFsdWUgfSwgb3B0aW9ucylcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRhdGEgPSBhd2FpdCBNb2RlbC5wYWdpbmF0ZSh7fSwgb3B0aW9ucylcbiAgICAgIH1cbiAgICAgIGRhdGEgPSB7XG4gICAgICAgIC4uLmRhdGEsXG4gICAgICAgIGRvY3M6IGRhdGEuZG9jcy5tYXAocmVjb3JkID0+IHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4ucmVjb3JkLl9kb2MsXG4gICAgICAgICAgICBfaWQ6IHJlY29yZC5fZG9jLl9pZC50b1N0cmluZygpLFxuICAgICAgICAgICAgY3JlYXRlZEF0OiByZWNvcmQuX2RvYy5jcmVhdGVkQXQudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgIHVwZGF0ZWRBdDogcmVjb3JkLl9kb2MudXBkYXRlZEF0LnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgfVxuICAgICAgICB9KSxcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgZGF0YSA9IGF3YWl0IE1vZGVsLmZpbmQoKS5zb3J0KCdjcmVhdGVkX2F0JykubGVhbigpXG4gICAgfVxuXG4gICAgcmV0dXJuIGRhdGFcbiAgfVxuICBhc3luYyB1cGRhdGVPbmUoeyBNb2RlbCwgaWQsIGZpZWxkcyB9KSB7XG4gICAgY29uc3QgdXBkYXRlZFJlY29yZCA9IGF3YWl0IE1vZGVsLnVwZGF0ZU9uZSh7IF9pZDogaWQgfSwgZmllbGRzKVxuICAgIHJldHVybiB1cGRhdGVkUmVjb3JkXG4gIH1cbiAgYXN5bmMgZGVsZXRlT25lKHsgTW9kZWwsIGlkIH0pIHtcbiAgICByZXR1cm4gYXdhaXQgTW9kZWwuZmluZEJ5SWRBbmREZWxldGUoaWQpXG4gIH1cbiAgYXN5bmMgY3JlYXRlT25lKHsgTW9kZWwsIGZpZWxkcyB9KSB7XG4gICAgY29uc3QgcmVjb3JkID0gbmV3IE1vZGVsKHtcbiAgICAgIC4uLmZpZWxkcyxcbiAgICB9KVxuICAgIGF3YWl0IHJlY29yZC5zYXZlKClcbiAgICByZXR1cm4gcmVjb3JkXG4gIH1cbiAgYXN5bmMgZmluZEJ5SWQoeyBNb2RlbCwgaWQsIHNlbGVjdCA9ICcnIH0pIHtcbiAgICBjb25zdCByZWNvcmQgPSBhd2FpdCBNb2RlbC5maW5kQnlJZChpZCkuc2VsZWN0KHNlbGVjdCkubGVhbigpXG4gICAgaWYgKCFyZWNvcmQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignTm90IGZvdW5kJylcbiAgICB9XG4gICAgcmV0dXJuIHJlY29yZFxuICB9XG4gIGFzeW5jIGZpbmRPbmUoeyBNb2RlbCwgZmllbGQgfSkge1xuICAgIGNvbnN0IHJlY29yZCA9IGF3YWl0IE1vZGVsLmZpbmRPbmUoeyBbZmllbGQuZmllbGRdOiBmaWVsZC52YWx1ZSB9KVxuICAgIHJldHVybiByZWNvcmRcbiAgfVxufVxuXG5jbGFzcyBNb25nb0RhdGFiYXNlUHJveHkge1xuICBjb25zdHJ1Y3Rvcihjb25uZWN0RGIpIHtcbiAgICB0aGlzLm1vbmdvRGF0YWJhc2UgPSBuZXcgTW9uZ29EYXRhYmFzZSgpXG4gICAgdGhpcy5jb25uZWN0RGIgPSBjb25uZWN0RGJcbiAgfVxuICBhc3luYyBnZXRBbGwoLi4ucHJvcHMpIHtcbiAgICBhd2FpdCB0aGlzLmNvbm5lY3REYigpXG4gICAgcmV0dXJuIGF3YWl0IHRoaXMubW9uZ29EYXRhYmFzZS5nZXRBbGwoLi4ucHJvcHMpXG4gIH1cbiAgYXN5bmMgdXBkYXRlT25lKC4uLnByb3BzKSB7XG4gICAgYXdhaXQgdGhpcy5jb25uZWN0RGIoKVxuICAgIHJldHVybiBhd2FpdCB0aGlzLm1vbmdvRGF0YWJhc2UudXBkYXRlT25lKC4uLnByb3BzKVxuICB9XG4gIGFzeW5jIGRlbGV0ZU9uZSguLi5wcm9wcykge1xuICAgIGF3YWl0IHRoaXMuY29ubmVjdERiKClcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5tb25nb0RhdGFiYXNlLmRlbGV0ZU9uZSguLi5wcm9wcylcbiAgfVxuICBhc3luYyBjcmVhdGVPbmUoLi4ucHJvcHMpIHtcbiAgICBhd2FpdCB0aGlzLmNvbm5lY3REYigpXG4gICAgcmV0dXJuIGF3YWl0IHRoaXMubW9uZ29EYXRhYmFzZS5jcmVhdGVPbmUoLi4ucHJvcHMpXG4gIH1cbiAgYXN5bmMgZmluZEJ5SWQoLi4ucHJvcHMpIHtcbiAgICBhd2FpdCB0aGlzLmNvbm5lY3REYigpXG4gICAgcmV0dXJuIGF3YWl0IHRoaXMubW9uZ29EYXRhYmFzZS5maW5kQnlJZCguLi5wcm9wcylcbiAgfVxuICBhc3luYyBmaW5kT25lKC4uLnByb3BzKSB7XG4gICAgYXdhaXQgdGhpcy5jb25uZWN0RGIoKVxuICAgIHJldHVybiBhd2FpdCB0aGlzLm1vbmdvRGF0YWJhc2UuZmluZE9uZSguLi5wcm9wcylcbiAgfVxufVxuXG5jb25zdCBtb25nb0RhdGFiYXNlID0gbmV3IE1vbmdvRGF0YWJhc2VQcm94eShjb25uZWN0RGIpXG5cbmV4cG9ydCB7IG1vbmdvRGF0YWJhc2UgfVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./core/Database/Mongo.js\n");

/***/ }),

/***/ "./core/Database/database.js":
/*!***********************************!*\
  !*** ./core/Database/database.js ***!
  \***********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nconst {\n  mongoDatabase\n} = __webpack_require__(/*! ./Mongo */ \"./core/Database/Mongo.js\"); // const { airtableDatabase } = require('./Airtable')\n\n\nclass Database {\n  constructor(database) {\n    this.database = database;\n  }\n\n  async getAll(...props) {\n    return await this.database.getAll(...props);\n  }\n\n  async updateOne(...props) {\n    return await this.database.updateOne(...props);\n  }\n\n  async deleteOne(...props) {\n    return await this.database.deleteOne(...props);\n  }\n\n  async createOne(...props) {\n    return await this.database.createOne(...props);\n  }\n\n  async findById(...props) {\n    return await this.database.findById(...props);\n  }\n\n  async findOne(...props) {\n    return await this.database.findOne(...props);\n  }\n\n}\n\nconst database = new Database(mongoDatabase); // const database = new Database(airtableDatabase)\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (database);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9jb3JlL0RhdGFiYXNlL2RhdGFiYXNlLmpzP2ZhZTEiXSwibmFtZXMiOlsibW9uZ29EYXRhYmFzZSIsInJlcXVpcmUiLCJEYXRhYmFzZSIsImNvbnN0cnVjdG9yIiwiZGF0YWJhc2UiLCJnZXRBbGwiLCJwcm9wcyIsInVwZGF0ZU9uZSIsImRlbGV0ZU9uZSIsImNyZWF0ZU9uZSIsImZpbmRCeUlkIiwiZmluZE9uZSJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQSxNQUFNO0FBQUVBO0FBQUYsSUFBb0JDLG1CQUFPLENBQUMseUNBQUQsQ0FBakMsQyxDQUNBOzs7QUFFQSxNQUFNQyxRQUFOLENBQWU7QUFDYkMsYUFBVyxDQUFDQyxRQUFELEVBQVc7QUFDcEIsU0FBS0EsUUFBTCxHQUFnQkEsUUFBaEI7QUFDRDs7QUFDRCxRQUFNQyxNQUFOLENBQWEsR0FBR0MsS0FBaEIsRUFBdUI7QUFDckIsV0FBTyxNQUFNLEtBQUtGLFFBQUwsQ0FBY0MsTUFBZCxDQUFxQixHQUFHQyxLQUF4QixDQUFiO0FBQ0Q7O0FBQ0QsUUFBTUMsU0FBTixDQUFnQixHQUFHRCxLQUFuQixFQUEwQjtBQUN4QixXQUFPLE1BQU0sS0FBS0YsUUFBTCxDQUFjRyxTQUFkLENBQXdCLEdBQUdELEtBQTNCLENBQWI7QUFDRDs7QUFDRCxRQUFNRSxTQUFOLENBQWdCLEdBQUdGLEtBQW5CLEVBQTBCO0FBQ3hCLFdBQU8sTUFBTSxLQUFLRixRQUFMLENBQWNJLFNBQWQsQ0FBd0IsR0FBR0YsS0FBM0IsQ0FBYjtBQUNEOztBQUNELFFBQU1HLFNBQU4sQ0FBZ0IsR0FBR0gsS0FBbkIsRUFBMEI7QUFDeEIsV0FBTyxNQUFNLEtBQUtGLFFBQUwsQ0FBY0ssU0FBZCxDQUF3QixHQUFHSCxLQUEzQixDQUFiO0FBQ0Q7O0FBQ0QsUUFBTUksUUFBTixDQUFlLEdBQUdKLEtBQWxCLEVBQXlCO0FBQ3ZCLFdBQU8sTUFBTSxLQUFLRixRQUFMLENBQWNNLFFBQWQsQ0FBdUIsR0FBR0osS0FBMUIsQ0FBYjtBQUNEOztBQUNELFFBQU1LLE9BQU4sQ0FBYyxHQUFHTCxLQUFqQixFQUF3QjtBQUN0QixXQUFPLE1BQU0sS0FBS0YsUUFBTCxDQUFjTyxPQUFkLENBQXNCLEdBQUdMLEtBQXpCLENBQWI7QUFDRDs7QUFyQlk7O0FBd0JmLE1BQU1GLFFBQVEsR0FBRyxJQUFJRixRQUFKLENBQWFGLGFBQWIsQ0FBakIsQyxDQUNBOztBQUVlSSx1RUFBZiIsImZpbGUiOiIuL2NvcmUvRGF0YWJhc2UvZGF0YWJhc2UuanMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB7IG1vbmdvRGF0YWJhc2UgfSA9IHJlcXVpcmUoJy4vTW9uZ28nKVxuLy8gY29uc3QgeyBhaXJ0YWJsZURhdGFiYXNlIH0gPSByZXF1aXJlKCcuL0FpcnRhYmxlJylcblxuY2xhc3MgRGF0YWJhc2Uge1xuICBjb25zdHJ1Y3RvcihkYXRhYmFzZSkge1xuICAgIHRoaXMuZGF0YWJhc2UgPSBkYXRhYmFzZVxuICB9XG4gIGFzeW5jIGdldEFsbCguLi5wcm9wcykge1xuICAgIHJldHVybiBhd2FpdCB0aGlzLmRhdGFiYXNlLmdldEFsbCguLi5wcm9wcylcbiAgfVxuICBhc3luYyB1cGRhdGVPbmUoLi4ucHJvcHMpIHtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5kYXRhYmFzZS51cGRhdGVPbmUoLi4ucHJvcHMpXG4gIH1cbiAgYXN5bmMgZGVsZXRlT25lKC4uLnByb3BzKSB7XG4gICAgcmV0dXJuIGF3YWl0IHRoaXMuZGF0YWJhc2UuZGVsZXRlT25lKC4uLnByb3BzKVxuICB9XG4gIGFzeW5jIGNyZWF0ZU9uZSguLi5wcm9wcykge1xuICAgIHJldHVybiBhd2FpdCB0aGlzLmRhdGFiYXNlLmNyZWF0ZU9uZSguLi5wcm9wcylcbiAgfVxuICBhc3luYyBmaW5kQnlJZCguLi5wcm9wcykge1xuICAgIHJldHVybiBhd2FpdCB0aGlzLmRhdGFiYXNlLmZpbmRCeUlkKC4uLnByb3BzKVxuICB9XG4gIGFzeW5jIGZpbmRPbmUoLi4ucHJvcHMpIHtcbiAgICByZXR1cm4gYXdhaXQgdGhpcy5kYXRhYmFzZS5maW5kT25lKC4uLnByb3BzKVxuICB9XG59XG5cbmNvbnN0IGRhdGFiYXNlID0gbmV3IERhdGFiYXNlKG1vbmdvRGF0YWJhc2UpXG4vLyBjb25zdCBkYXRhYmFzZSA9IG5ldyBEYXRhYmFzZShhaXJ0YWJsZURhdGFiYXNlKVxuXG5leHBvcnQgZGVmYXVsdCBkYXRhYmFzZVxuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./core/Database/database.js\n");

/***/ }),

/***/ "./models/User.js":
/*!************************!*\
  !*** ./models/User.js ***!
  \************************/
/*! exports provided: UserSchema, default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"UserSchema\", function() { return UserSchema; });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst UserSchema = new mongoose__WEBPACK_IMPORTED_MODULE_0__[\"Schema\"]({\n  email: String,\n  name: String,\n  password: String,\n  tokens: [String]\n}, {\n  timestamps: true\n});\n\nfunction createModel(modelName, schema) {\n  return mongoose__WEBPACK_IMPORTED_MODULE_0___default.a.models[modelName] || mongoose__WEBPACK_IMPORTED_MODULE_0___default.a.model(modelName, schema);\n}\n\nconst UserModel = createModel('User', UserSchema);\n/* harmony default export */ __webpack_exports__[\"default\"] = (UserModel);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9tb2RlbHMvVXNlci5qcz8zYTIwIl0sIm5hbWVzIjpbIlVzZXJTY2hlbWEiLCJTY2hlbWEiLCJlbWFpbCIsIlN0cmluZyIsIm5hbWUiLCJwYXNzd29yZCIsInRva2VucyIsInRpbWVzdGFtcHMiLCJjcmVhdGVNb2RlbCIsIm1vZGVsTmFtZSIsInNjaGVtYSIsIm1vbmdvb3NlIiwibW9kZWxzIiwibW9kZWwiLCJVc2VyTW9kZWwiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDTyxNQUFNQSxVQUFVLEdBQUcsSUFBSUMsK0NBQUosQ0FDeEI7QUFDRUMsT0FBSyxFQUFFQyxNQURUO0FBRUVDLE1BQUksRUFBRUQsTUFGUjtBQUdFRSxVQUFRLEVBQUVGLE1BSFo7QUFJRUcsUUFBTSxFQUFFLENBQUNILE1BQUQ7QUFKVixDQUR3QixFQU94QjtBQUNFSSxZQUFVLEVBQUU7QUFEZCxDQVB3QixDQUFuQjs7QUFZUCxTQUFTQyxXQUFULENBQXFCQyxTQUFyQixFQUFnQ0MsTUFBaEMsRUFBd0M7QUFDdEMsU0FBT0MsK0NBQVEsQ0FBQ0MsTUFBVCxDQUFnQkgsU0FBaEIsS0FBOEJFLCtDQUFRLENBQUNFLEtBQVQsQ0FBZUosU0FBZixFQUEwQkMsTUFBMUIsQ0FBckM7QUFDRDs7QUFHRCxNQUFNSSxTQUFTLEdBQUdOLFdBQVcsQ0FBQyxNQUFELEVBQVFSLFVBQVIsQ0FBN0I7QUFFZWMsd0VBQWYiLCJmaWxlIjoiLi9tb2RlbHMvVXNlci5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSwgeyBTY2hlbWEgfSBmcm9tICdtb25nb29zZSdcbmV4cG9ydCBjb25zdCBVc2VyU2NoZW1hID0gbmV3IFNjaGVtYShcbiAge1xuICAgIGVtYWlsOiBTdHJpbmcsXG4gICAgbmFtZTogU3RyaW5nLFxuICAgIHBhc3N3b3JkOiBTdHJpbmcsXG4gICAgdG9rZW5zOiBbU3RyaW5nXSxcbiAgfSxcbiAge1xuICAgIHRpbWVzdGFtcHM6IHRydWUsXG4gIH1cbilcblxuZnVuY3Rpb24gY3JlYXRlTW9kZWwobW9kZWxOYW1lLCBzY2hlbWEpIHtcbiAgcmV0dXJuIG1vbmdvb3NlLm1vZGVsc1ttb2RlbE5hbWVdIHx8IG1vbmdvb3NlLm1vZGVsKG1vZGVsTmFtZSwgc2NoZW1hKVxufVxuXG5cbmNvbnN0IFVzZXJNb2RlbCA9IGNyZWF0ZU1vZGVsKCdVc2VyJyxVc2VyU2NoZW1hKVxuXG5leHBvcnQgZGVmYXVsdCBVc2VyTW9kZWxcbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./models/User.js\n");

/***/ }),

/***/ "./pages/api/register.js":
/*!*******************************!*\
  !*** ./pages/api/register.js ***!
  \*******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _utils_auth__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/auth */ \"./utils/auth.js\");\n/* harmony import */ var _core_Database_database__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../core/Database/database */ \"./core/Database/database.js\");\n/* harmony import */ var _models_User__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../models/User */ \"./models/User.js\");\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (async (req, res) => {\n  try {\n    const userRegisterFields = ['email', 'name', 'password'];\n    await _utils_auth__WEBPACK_IMPORTED_MODULE_0__[\"default\"].handleRegister(req, res, userRegisterFields, _core_Database_database__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n      Model: _models_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"]\n    });\n  } catch (error) {\n    res.status(500).json({\n      error: error.message\n    });\n  }\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9wYWdlcy9hcGkvcmVnaXN0ZXIuanM/MTU5YiJdLCJuYW1lcyI6WyJyZXEiLCJyZXMiLCJ1c2VyUmVnaXN0ZXJGaWVsZHMiLCJhdXRoIiwiaGFuZGxlUmVnaXN0ZXIiLCJkYXRhYmFzZSIsIk1vZGVsIiwiVXNlciIsImVycm9yIiwic3RhdHVzIiwianNvbiIsIm1lc3NhZ2UiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBRWUsc0VBQU9BLEdBQVAsRUFBWUMsR0FBWixLQUFvQjtBQUNqQyxNQUFJO0FBQ0YsVUFBTUMsa0JBQWtCLEdBQUcsQ0FBQyxPQUFELEVBQVUsTUFBVixFQUFrQixVQUFsQixDQUEzQjtBQUNBLFVBQU1DLG1EQUFJLENBQUNDLGNBQUwsQ0FBb0JKLEdBQXBCLEVBQXlCQyxHQUF6QixFQUE4QkMsa0JBQTlCLEVBQWtERywrREFBbEQsRUFBNEQ7QUFBQ0MsV0FBSyxFQUFFQyxvREFBSUE7QUFBWixLQUE1RCxDQUFOO0FBQ0QsR0FIRCxDQUdFLE9BQU9DLEtBQVAsRUFBYztBQUNkUCxPQUFHLENBQUNRLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFFRixXQUFLLEVBQUVBLEtBQUssQ0FBQ0c7QUFBZixLQUFyQjtBQUNEO0FBQ0YsQ0FQRCIsImZpbGUiOiIuL3BhZ2VzL2FwaS9yZWdpc3Rlci5qcy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBhdXRoIGZyb20gJy4uLy4uL3V0aWxzL2F1dGgnXG5pbXBvcnQgZGF0YWJhc2UgZnJvbSAnLi4vLi4vY29yZS9EYXRhYmFzZS9kYXRhYmFzZSdcbmltcG9ydCBVc2VyIGZyb20gJy4uLy4uL21vZGVscy9Vc2VyJ1xuXG5leHBvcnQgZGVmYXVsdCBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCB1c2VyUmVnaXN0ZXJGaWVsZHMgPSBbJ2VtYWlsJywgJ25hbWUnLCAncGFzc3dvcmQnXVxuICAgIGF3YWl0IGF1dGguaGFuZGxlUmVnaXN0ZXIocmVxLCByZXMsIHVzZXJSZWdpc3RlckZpZWxkcywgZGF0YWJhc2UsIHtNb2RlbDogVXNlcn0pXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogZXJyb3IubWVzc2FnZSB9KVxuICB9XG59XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./pages/api/register.js\n");

/***/ }),

/***/ "./utils/auth.js":
/*!***********************!*\
  !*** ./utils/auth.js ***!
  \***********************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _core_Auth_Auth__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/Auth/Auth */ \"./core/Auth/Auth.js\");\n/* harmony import */ var _core_Auth_Auth__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_core_Auth_Auth__WEBPACK_IMPORTED_MODULE_0__);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (_core_Auth_Auth__WEBPACK_IMPORTED_MODULE_0___default.a.init({\n  pathUri: '/',\n  redirectUri: '/',\n  postLogoutRedirectUri: '/',\n  cookieSecret: 'cookie',\n  cookieLifeTime: '36000',\n  tokenLifetime: '10h'\n}));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi91dGlscy9hdXRoLmpzPzQ4YzkiXSwibmFtZXMiOlsiYXV0aCIsImluaXQiLCJwYXRoVXJpIiwicmVkaXJlY3RVcmkiLCJwb3N0TG9nb3V0UmVkaXJlY3RVcmkiLCJjb29raWVTZWNyZXQiLCJjb29raWVMaWZlVGltZSIsInRva2VuTGlmZXRpbWUiXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRWVBLHFIQUFJLENBQUNDLElBQUwsQ0FBVTtBQUN2QkMsU0FBTyxFQUFFLEdBRGM7QUFFdkJDLGFBQVcsRUFBRSxHQUZVO0FBR3ZCQyx1QkFBcUIsRUFBRSxHQUhBO0FBSXZCQyxjQUFZLEVBQUUsUUFKUztBQUt2QkMsZ0JBQWMsRUFBRSxPQUxPO0FBTXZCQyxlQUFhLEVBQUU7QUFOUSxDQUFWLENBQWYiLCJmaWxlIjoiLi91dGlscy9hdXRoLmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGF1dGggZnJvbSAnLi4vY29yZS9BdXRoL0F1dGgnXG5cbmV4cG9ydCBkZWZhdWx0IGF1dGguaW5pdCh7XG4gIHBhdGhVcmk6ICcvJyxcbiAgcmVkaXJlY3RVcmk6ICcvJyxcbiAgcG9zdExvZ291dFJlZGlyZWN0VXJpOiAnLycsXG4gIGNvb2tpZVNlY3JldDogJ2Nvb2tpZScsXG4gIGNvb2tpZUxpZmVUaW1lOiAnMzYwMDAnLFxuICB0b2tlbkxpZmV0aW1lOiAnMTBoJyxcbn0pXG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./utils/auth.js\n");

/***/ }),

/***/ "bcrypt":
/*!*************************!*\
  !*** external "bcrypt" ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"bcrypt\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJiY3J5cHRcIj9jZjljIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6ImJjcnlwdC5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImJjcnlwdFwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///bcrypt\n");

/***/ }),

/***/ "cookie":
/*!*************************!*\
  !*** external "cookie" ***!
  \*************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"cookie\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJjb29raWVcIj8yZDIxIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6ImNvb2tpZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImNvb2tpZVwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///cookie\n");

/***/ }),

/***/ "jsonwebtoken":
/*!*******************************!*\
  !*** external "jsonwebtoken" ***!
  \*******************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"jsonwebtoken\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJqc29ud2VidG9rZW5cIj82NDkwIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6Impzb253ZWJ0b2tlbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZShcImpzb253ZWJ0b2tlblwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///jsonwebtoken\n");

/***/ }),

/***/ "mongoose":
/*!***************************!*\
  !*** external "mongoose" ***!
  \***************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("module.exports = require(\"mongoose\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJtb25nb29zZVwiP2ZmZDciXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoibW9uZ29vc2UuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCJtb25nb29zZVwiKTsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///mongoose\n");

/***/ })

/******/ });