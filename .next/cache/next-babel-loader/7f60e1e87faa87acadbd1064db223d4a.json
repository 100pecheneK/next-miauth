{"ast":null,"code":"import auth from '../../utils/auth';\nimport database from '../../core/Database/database';\nimport User from '../../models/User';\nexport default auth.authRequired(async (req, res) => {\n  try {\n    const user = await database.findById({\n      Model: User,\n      id: req.userId\n    });\n    res.json({\n      user\n    });\n  } catch (e) {\n    res.status(500).json({\n      error: e\n    });\n  }\n});","map":{"version":3,"sources":["/Users/misha/Desktop/miauth/pages/api/me.js"],"names":["auth","database","User","authRequired","req","res","user","findById","Model","id","userId","json","e","status","error"],"mappings":"AAAA,OAAOA,IAAP,MAAiB,kBAAjB;AACA,OAAOC,QAAP,MAAqB,8BAArB;AACA,OAAOC,IAAP,MAAiB,mBAAjB;AAEA,eAAeF,IAAI,CAACG,YAAL,CAAkB,OAAOC,GAAP,EAAYC,GAAZ,KAAoB;AACnD,MAAI;AACF,UAAMC,IAAI,GAAG,MAAML,QAAQ,CAACM,QAAT,CAAkB;AAAEC,MAAAA,KAAK,EAAEN,IAAT;AAAeO,MAAAA,EAAE,EAAEL,GAAG,CAACM;AAAvB,KAAlB,CAAnB;AAEAL,IAAAA,GAAG,CAACM,IAAJ,CAAS;AAAEL,MAAAA;AAAF,KAAT;AACD,GAJD,CAIE,OAAOM,CAAP,EAAU;AACVP,IAAAA,GAAG,CAACQ,MAAJ,CAAW,GAAX,EAAgBF,IAAhB,CAAqB;AAAEG,MAAAA,KAAK,EAAEF;AAAT,KAArB;AACD;AACF,CARc,CAAf","sourcesContent":["import auth from '../../utils/auth'\nimport database from '../../core/Database/database'\nimport User from '../../models/User'\n\nexport default auth.authRequired(async (req, res) => {\n  try {\n    const user = await database.findById({ Model: User, id: req.userId })\n\n    res.json({ user })\n  } catch (e) {\n    res.status(500).json({ error: e })\n  }\n})\n"]},"metadata":{},"sourceType":"module"}